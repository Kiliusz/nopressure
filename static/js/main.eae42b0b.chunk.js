(this.webpackJsonpnopressure=this.webpackJsonpnopressure||[]).push([[0],{181:function(e,t,a){e.exports=a.p+"static/media/logo.10287409.svg"},213:function(e,t,a){e.exports=a(236)},218:function(e,t,a){},236:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),o=a.n(c),l=(a(218),a(25)),i=a(53),m=a(292),s=a(240),u=a(277),d=a(239),p=a(42),f=a(181),b=a.n(f),E=a(296),h=a(153),g=a(186),O=a.n(g),j=a(14),v=a(120),w=(a(219),a(221),{apiKey:"AIzaSyB0zKDjGn1L7HhmeMVhnAQzhkcPNOpqK_4",authDomain:"nopressure-c3f97.firebaseapp.com",databaseURL:"https://nopressure-c3f97.firebaseio.com",projectId:"nopressure-c3f97",storageBucket:"nopressure-c3f97.appspot.com",messagingSenderId:"5439112905",appId:"1:5439112905:web:89fc2194727a7fab59ef18",measurementId:"G-NZRDPMX5QX"});v.initializeApp(w);var x=v.auth(),y=v.firestore(),C=Object(n.createContext)(),k=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(j.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(!1),m=Object(j.a)(i,2),s=m[0],u=m[1];return Object(n.useEffect)((function(){x.onAuthStateChanged((function(e){l(e),u(!0)}))}),[]),s&&r.a.createElement(C.Provider,{value:{user:o,setUser:l}},t)},S=Object(n.createContext)(),N=function(e){var t=e.children,a=Object(n.useState)([]),c=Object(j.a)(a,2),o=c[0],l=c[1];return r.a.createElement(S.Provider,{value:{appData:o,setAppData:l}},t)},T=Object(i.g)((function(e){var t=e.history,a=Object(n.useContext)(S).setAppData;return r.a.createElement(E.a,{title:"Logout"},r.a.createElement(h.a,{color:"inherit",onClick:function(){x.signOut().then((function(){t.push("/"),a([])}))}},r.a.createElement(O.a,null)))})),D=a(35),M=a(275),I=a(276),P=a(188),W=a.n(P),A=function(){var e=Object(D.a)(),t=e.darkMode,a=e.setDarkMode;return r.a.createElement(M.a,{control:r.a.createElement(I.a,{checked:t,onChange:function(){localStorage.setItem("darkMode",!t),a(!t)},name:"darkModeSwitch"}),label:r.a.createElement(W.a,{style:{verticalAlign:"middle",padding:"0.05em"}}),labelPlacement:"start"})},F=Object(p.a)({root:{maxWidth:"800px",margin:"0 auto"}}),R=function(){var e=F(),t=Object(n.useContext)(C).user;return r.a.createElement(u.a,{position:"static"},r.a.createElement(d.a,null,r.a.createElement(s.a,{className:e.root,container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(s.a,{item:!0,component:l.b,to:"/"},r.a.createElement("img",{src:b.a,alt:"App logo NoPressure"})),r.a.createElement(s.a,{item:!0},r.a.createElement(s.a,{container:!0,alignItems:"center"},r.a.createElement(s.a,{item:!0},t&&r.a.createElement(T,null)),r.a.createElement(s.a,{item:!0},r.a.createElement(A,null)))))))},q=a(278),z=a(279),B=a(189),L=a.n(B),H=a(190),Y=a.n(H),U=a(191),G=a.n(U),K=a(192),V=a.n(K),J=Object(p.a)({bottomNavi:{position:"fixed",bottom:"0",width:"100%"}}),Q=Object(i.g)((function(e){var t=e.location,a=J(),c=Object(n.useState)(t.pathname),o=Object(j.a)(c,2),i=o[0],m=o[1];return r.a.createElement(q.a,{value:i,onChange:function(e,t){m(t)},showLabels:!0,className:a.bottomNavi},r.a.createElement(z.a,{value:"/",component:l.b,to:"/",label:"Home",icon:r.a.createElement(L.a,null)}),r.a.createElement(z.a,{value:"/charts",component:l.b,to:"/charts",label:"Charts",icon:r.a.createElement(Y.a,null)}),r.a.createElement(z.a,{component:l.b,value:"/history",to:"/history",label:"History",icon:r.a.createElement(G.a,null)}),r.a.createElement(z.a,{component:l.b,value:"/user",to:"/user",label:"User",icon:r.a.createElement(V.a,null)}))})),X=Object(p.a)({root:{flexGrow:1,padding:"1em 0.5em 4em 0.5em"}}),Z=function(e){var t=e.children,a=X();return r.a.createElement("div",{className:a.root},t)},$=a(74),_=a(65),ee=a.n(_),te=a(11),ae=a(166),ne=a(193),re=a.n(ne),ce=a(121),oe=a.n(ce),le=a(118),ie=a(164),me=function(e){return y.collection("Results/".concat(e,"/UserResults"))},se=function(){var e=Object(ie.a)(oe.a.mark((function e(t){var a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,me(t).orderBy("dateOfMeasurement","desc").get().then((function(e){return e.forEach((function(e){return a.push(Object(le.a)({docId:e.id},e.data()))}))})).catch((function(e){return a.push(e)}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(ie.a)(oe.a.mark((function e(t){var a,n,r=arguments;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:10,n=[],e.next=4,me(t).orderBy("dateOfMeasurement","desc").limit(a).get().then((function(e){return e.forEach((function(e){return n.push(Object(le.a)({docId:e.id},e.data()))}))})).catch((function(e){return n.push(e)}));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dateOfMeasurement",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"desc";if(e){var n=function(e,n){return e[t]<n[t]?"asc"===a?-1:1:e[t]>n[t]?"asc"===a?1:-1:0};return e.sort(n)}return e},pe=function(e,t,a,n){if(e){if(t&&!a)return e.filter((function(e){return e[n]>t}));if(!t&&a)return e.filter((function(e){return e[n]<a}));if(t&&a)return e.filter((function(e){return e[n]>t&&e[n]<a}))}return e},fe=Object(p.a)((function(e){var t;return{deleteButton:(t={position:"absolute"},Object(te.a)(t,e.breakpoints.down("xl"),{bottom:"5%",right:"5%"}),Object(te.a)(t,e.breakpoints.down("xs"),{padding:"0.1em",bottom:"14%",right:"0"}),t)}})),be=function(e){var t=e.docId,a=Object(n.useContext)(C).user,c=Object(n.useContext)(S).setAppData,o=fe();return r.a.createElement(h.a,{onClick:function(){(function(e,t){return me(e).doc(t).delete()})(a.uid,t).then((function(){c((function(e){return de(e.filter((function(e){return e.docId!==t})))}))}))},"aria-label":"delete",className:o.deleteButton},r.a.createElement(re.a,{fontSize:"small"}))},Ee=Object(p.a)((function(e){var t,a;return{paperResult:(t={position:"relative",width:"100%"},Object(te.a)(t,e.breakpoints.down("xl"),{padding:"0.8em 1em",margin:"0.3em 0em"}),Object(te.a)(t,e.breakpoints.down("xs"),{padding:"0.4em 0.4em",margin:"0.3em 0em"}),Object(te.a)(t,"fontSize","1.1em"),t),unitFont:{color:"#808080",fontSize:"0.6em"},timeFont:{color:"#808080",fontSize:"0.8em"},warning:(a={position:"absolute",color:"red",left:"5px"},Object(te.a)(a,e.breakpoints.down("xl"),{left:"10%"}),Object(te.a)(a,e.breakpoints.down("xs"),{left:"2%"}),Object(te.a)(a,"fontWeight","bold"),a),monthChange:{padding:"0.5em 2em",width:"100%"}}})),he=function(e){var t=e.upPressure,a=e.downPressure,n=e.pulse,c=e.time,o=e.monthChange,l=e.firstMonthInRow,i=e.docId,m=t>=135||a>=90||n>=90,u=Ee();return r.a.createElement(r.a.Fragment,null,l&&r.a.createElement("div",{className:u.monthChange},l?ee()(c).format("MMMM"):""),!!o&&r.a.createElement("div",{className:u.monthChange},o?ee()(c).format("MMMM"):""),r.a.createElement(ae.a,{className:u.paperResult},m&&r.a.createElement("div",{className:u.warning},"!"),r.a.createElement(s.a,{container:!0,justify:"space-evenly",spacing:1},r.a.createElement(s.a,{item:!0},t," / ",a," ",r.a.createElement("span",{className:u.unitFont},"mmHG")),r.a.createElement(s.a,{item:!0},n," ",r.a.createElement("span",{className:u.unitFont},"bmp")),r.a.createElement(s.a,{item:!0},r.a.createElement($.a,{variant:"caption",className:u.timeFont},c))),r.a.createElement(be,{docId:i})))},ge=function(e){var t=e.data;return t?t.map((function(e,t,a){var n=e.up,c=e.down,o=e.pulse,l=e.dateOfMeasurement,i=e.docId,m=new Date(l).getMonth()-new Date(a[t?t-1:t].dateOfMeasurement).getMonth();return r.a.createElement(he,{firstMonthInRow:0===t&&l,monthChange:m,key:i,docId:i,upPressure:parseFloat(n),downPressure:parseFloat(c),pulse:parseFloat(o),time:ee()(new Date(parseFloat(l))).format("Y/MM/DD HH:mm")})})):null},Oe=a(280),je=a(241),ve=Object(p.a)((function(e){return{root:{fill:e.palette.secondary.main,animation:"$beating 0.9s infinite ",marginTop:"2em"},"@keyframes beating":{"0%":{transform:"scale(1)"},"20%":{transform:"scale(1.2)"},"40%":{transform:"scale(1)"},"65%":{transform:"scale(1.2)"},"100%":{transform:"scale(1)"}}}})),we=function(e){var t=e.size,a=ve();return r.a.createElement("div",null,r.a.createElement("svg",{width:t,className:a.root,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -28 512 512"},r.a.createElement("path",{d:"m471.4 44.6c-26.5-28.7-62.9-44.6-102.4-44.6-29.6 0-56.6 9.3-80.4 27.8-12 9.3-22.9 20.7-32.5 34-9.6-13.3-20.5-24.7-32.5-34-23.8-18.4-50.9-27.8-80.4-27.8-39.5 0-75.9 15.8-102.4 44.6-26.2 28.4-40.6 67.2-40.6 109.3 0 43.3 16.1 82.9 50.8 124.7 31 37.4 75.5 75.4 127.1 119.3 17.6 15 37.6 32 58.3 50.2 5.5 4.8 12.5 7.4 19.8 7.4 7.3 0 14.3-2.6 19.8-7.4 20.7-18.1 40.7-35.2 58.3-50.2 51.6-43.9 96.1-81.9 127.1-119.3 34.6-41.8 50.8-81.4 50.8-124.7 0-42.1-14.4-80.9-40.6-109.3zm0 0"})))},xe=Object(p.a)((function(e){var t;return{container:{},header:{marginTop:"2em"},typo:(t={margin:"1em 0"},Object(te.a)(t,e.breakpoints.down("xs"),{fontSize:"2em"}),Object(te.a)(t,"color","light"===e.palette.type?e.palette.grey[700]:e.palette.grey[100]),t)}})),ye=function(){var e=xe();return r.a.createElement(Oe.a,null,r.a.createElement(s.a,{container:!0,className:e.container,spacing:3,justify:"center"},r.a.createElement(s.a,{className:e.header,item:!0,xs:12},r.a.createElement($.a,{className:e.typo,align:"center",variant:"h3"},"Start tracking your blood pressure today!")),r.a.createElement(s.a,{item:!0},r.a.createElement(je.a,{variant:"contained",color:"primary",component:l.b,to:"/signup"},"Sign up")),r.a.createElement(s.a,{item:!0},r.a.createElement(je.a,{variant:"outlined",color:"primary",component:l.b,to:"/login"},"Login")),r.a.createElement(s.a,{align:"center",item:!0,xs:12},r.a.createElement(we,{size:120}))))},Ce=Object(p.a)({wrapper:{maxWidth:"800px",margin:"0 auto"},text:{marginTop:"1em"}}),ke=function(){var e=Ce(),t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],o=a[1],l=Object(n.useContext)(S),i=l.appData,m=l.setAppData,u=Object(n.useContext)(C).user,d=u&&i&&i.length>9,p=u&&c;return Object(n.useEffect)((function(){u&&(!i||i.length<11)&&(console.log("useffect datacontext"),ue(u.uid,10).then((function(e){m(e),e&&0===e.length&&o(!0)})).catch((function(e){return console.log(e)})))}),[u]),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{container:!0,className:e.wrapper,justify:"center"},p&&r.a.createElement("h2",null,"Click on plus sign to add your 1st record"),u&&r.a.createElement(ge,{data:i.slice(0,10)}),!u&&r.a.createElement(ye,null)),d&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{container:!0,className:e.wrapper,justify:"center"},r.a.createElement($.a,{className:e.text,variant:"h6"},"Your last 10 records")),r.a.createElement(s.a,{container:!0,className:e.wrapper,justify:"center"},r.a.createElement($.a,{variant:"subtitle1"},"To see more go to the history page"))))},Se=function(){return r.a.createElement("div",{style:{margin:" 0 auto",maxWidth:"70%"}},r.a.createElement("h1",null,"Charts "),r.a.createElement("h1",null,"Under development "))},Ne=a(293),Te=a(7),De=a(161),Me=a(147),Ie=Object(p.a)({formText:{"& input":{padding:"0.6em 1em"}},formDate:{"& input":{padding:"0.6em 1em"}}}),Pe=function(e){var t=e.appData,a=e.setDisplayData,c=Ie(),o=Object(n.useState)([null,null]),l=Object(j.a)(o,2),i=l[0],m=l[1],u=Object(n.useState)(""),d=Object(j.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(""),E=Object(j.a)(b,2),h=E[0],g=E[1];return Object(n.useEffect)((function(){t&&t.length>0&&(!function(){var e=pe(t,i[0],i[1],"dateOfMeasurement");e=pe(e,p,h,"up"),a(e)}(),console.log("useEffect handleFilter"))}),[t,i,p,h]),r.a.createElement(s.a,{container:!0,alignItems:"center"},r.a.createElement(s.a,{item:!0,xs:10},r.a.createElement(s.a,{container:!0,spacing:1},r.a.createElement(s.a,{item:!0,xs:12},r.a.createElement(Te.c,{dateAdapter:Me.a},r.a.createElement(De.a,{startText:"From date",endText:"To date",value:i,onChange:function(e){m(e)},renderInput:function(e,t){return r.a.createElement(s.a,{container:!0,spacing:1},r.a.createElement(s.a,{item:!0,xs:6},r.a.createElement(Ne.a,Object.assign({className:c.formDate,InputLabelProps:{shrink:!0}},e,{helperText:""}))),r.a.createElement(s.a,{item:!0,xs:6},r.a.createElement(Ne.a,Object.assign({className:c.formDate,InputLabelProps:{shrink:!0}},t,{helperText:""}))))}}))),r.a.createElement(s.a,{item:!0,xs:6},r.a.createElement(Ne.a,{className:c.formText,id:"greater",value:p,label:"Sys. greater than",type:"number",onKeyDown:function(e){return(69===e.keyCode||190===e.keyCode)&&e.preventDefault()},onChange:function(e){f(e.target.value)},InputLabelProps:{shrink:!0},variant:"outlined"})),r.a.createElement(s.a,{item:!0,xs:6},r.a.createElement(Ne.a,{className:c.formText,id:"less",value:h,label:"Sys. less than",type:"number",onKeyDown:function(e){return(69===e.keyCode||190===e.keyCode)&&e.preventDefault()},onChange:function(e){g(e.target.value)},InputLabelProps:{shrink:!0},variant:"outlined"})))),r.a.createElement(s.a,{item:!0,justify:"center",xs:2},r.a.createElement(je.a,{onClick:function(){m([null,null]),f(""),g("")},color:"primary"},"Reset")))},We=Object(p.a)({wrapper:{maxWidth:"800px",margin:"0 auto"}}),Ae=function(){var e=We(),t=Object(n.useContext)(S),a=t.appData,c=t.setAppData,o=Object(n.useContext)(C).user,l=Object(n.useState)(null),i=Object(j.a)(l,2),m=i[0],u=i[1],d=o&&(!a.length||a.length<11);return Object(n.useEffect)((function(){d&&se(o.uid).then((function(e){c(e)})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{container:!0,className:e.wrapper,justify:"center"},r.a.createElement(Pe,{appData:a,setDisplayData:u}),r.a.createElement(ge,{data:m})))},Fe=a(199),Re=a(285),qe=function(e){var t=e.children,a=null!==localStorage.getItem("darkMode")&&JSON.parse(localStorage.getItem("darkMode")),c=Object(n.useState)(a),o=Object(j.a)(c,2),l=o[0],i=o[1],m=Object(Fe.a)({darkMode:l,setDarkMode:i,palette:{primary:{main:l?"#4587d1":"#1565c0"},secondary:{main:"#e53935"},type:l?"dark":"light"}});return r.a.createElement(Re.a,{theme:m},t)},ze=a(19),Be=a(22),Le=a(297),He=a(283),Ye=a(284),Ue=a(286),Ge=a(109),Ke=a(294),Ve=function(e){var t=e.label,a=Object(Ge.a)(e,["label"]),n=Object(ze.d)(Object(le.a)({},a)),c=Object(j.a)(n,2),o=c[0],l=c[1];return r.a.createElement(M.a,{control:r.a.createElement(Ke.a,Object.assign({},a,l,o)),label:t})},Je=function(e){var t=e.label,a=Object(Ge.a)(e,["label"]),n=Object(ze.d)(a),c=Object(j.a)(n,1)[0];return r.a.createElement(M.a,{control:r.a.createElement(Ke.a,Object.assign({},c,a)),label:t})},Qe=a(295),Xe=a(197),Ze=a.n(Xe),$e=Object(p.a)((function(e){return{snackContainer:{padding:"0.3em 1em",display:"flex",backgroundColor:e.palette.error.main,borderRadius:"1em"},snackText:{color:"white",marginRight:"1em"}}})),_e=function(e){var t=e.open,a=e.msg,n=e.setOpen,c=$e(),o=function(){return n(!1)};return r.a.createElement(Qe.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:t,autoHideDuration:4e3,onClose:o},r.a.createElement("div",{className:c.snackContainer},r.a.createElement("p",{className:c.snackText},a),r.a.createElement(h.a,{size:"small","aria-label":"close",color:"inherit",onClick:o},r.a.createElement(Ze.a,{fontSize:"small"}))))},et=Object(p.a)((function(e){return{form:{padding:"1em",textAlign:"left"},button:{marginTop:"1em",marginBottom:"1em"},field:{marginBottom:"0.2em"},snackContainer:{padding:"0.3em 1em",display:"flex",backgroundColor:e.palette.error.main,borderRadius:"1em"},snackText:{color:"white",marginRight:"1em"}}})),tt=Be.d().shape({name:Be.f().min(2,"Too Short!").max(15,"Too Long!").required("Required"),email:Be.f().email().required("Required"),password:Be.f().required("Required").min(8,"Password must be at least 8 characters"),confirmPassword:Be.f().oneOf([Be.e("password"),null],"Passwords must match"),acceptTerms:Be.a().oneOf([!0],"You have to accept terms and conditions"),gender:Be.f().required("You have to select one option")}),at=Object(i.g)((function(e){var t=e.history,a=et(),c=Object(n.useState)(!1),o=Object(j.a)(c,2),i=o[0],m=o[1],s=Object(n.useState)(""),u=Object(j.a)(s,2),d=u[0],p=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze.c,{initialValues:{name:"",email:"",password:"",confirmPassword:"",gender:"",acceptTerms:!1},onSubmit:function(e,a){a.setSubmitting(!0),x.createUserWithEmailAndPassword(e.email,e.password).then((function(n){var r,c,o,l,i=n.user;r=e.name,c=i.uid,o=e.gender,l=e.email,y.collection("Users").doc(c).set({name:r,gender:o,createdAt:(new Date).getTime(),email:l}),a.resetForm(),a.setSubmitting(!1),t.push("/")})).catch((function(e){m(!0),p(e.message),a.setSubmitting(!1)}))},validationSchema:tt},(function(e){var t=e.isSubmitting,n=e.errors,c=e.touched;return r.a.createElement(ze.b,{className:a.form},r.a.createElement(Le.a,{fullWidth:!0},r.a.createElement(ze.a,{className:a.field,autoComplete:"off",name:"name",as:Ne.a,label:"Name",helperText:c.name&&n.name,error:!!n.name&&c.name})),r.a.createElement(Le.a,{fullWidth:!0},r.a.createElement(ze.a,{className:a.field,name:"email",as:Ne.a,label:"E-mail",helperText:c.email&&n.email,error:!!n.email&&c.email})),r.a.createElement(Le.a,{fullWidth:!0},r.a.createElement(ze.a,{className:a.field,autoComplete:"off",name:"password",as:Ne.a,label:"Password",type:"password",helperText:c.password&&n.password,error:!!n.password&&c.password})),r.a.createElement(Le.a,{fullWidth:!0},r.a.createElement(ze.a,{className:a.field,name:"confirmPassword",as:Ne.a,label:"Confirm password",type:"password",helperText:c.confirmPassword&&n.confirmPassword,error:!!n.confirmPassword&&c.confirmPassword})),r.a.createElement(Le.a,{margin:"normal"},r.a.createElement(He.a,null,"Gender"),r.a.createElement(Je,{color:"primary",type:"radio",name:"gender",value:"female",label:"Female"}),r.a.createElement(Je,{color:"primary",type:"radio",name:"gender",value:"male",label:"Male"}),r.a.createElement(Ye.a,{error:!0},c.gender&&n.gender)),r.a.createElement("div",null,r.a.createElement(Le.a,null,r.a.createElement(Ve,{color:"primary",name:"acceptTerms",label:"I accept terms and conditions"}),r.a.createElement(Ye.a,{error:!0},c.acceptTerms&&n.acceptTerms))),r.a.createElement("div",null,r.a.createElement(je.a,{className:a.button,color:"primary",variant:"contained",type:"submit",disabled:t},"Submit"),r.a.createElement($.a,{variant:"caption",display:"block"},"Already have an account?"," ",r.a.createElement("span",null,r.a.createElement(Ue.a,{component:l.b,to:"/login"},"Login")))))})),r.a.createElement(_e,{setOpen:m,open:i,msg:d}))})),nt=Object(p.a)({title:{textAlign:"center",marginTop:"0.3em",paddingTop:"1em"}}),rt=function(){var e=nt();return r.a.createElement(Oe.a,{component:ae.a,className:e.title,maxWidth:"xs"},r.a.createElement($.a,{alignText:"center",variant:"h5"},"Sign up and start using app"),r.a.createElement(at,null))},ct=Object(p.a)({form:{padding:"1em",textAlign:"left"},button:{marginTop:"2em",marginBottom:"1em"}}),ot=Be.d().shape({email:Be.f().email().required("Required"),password:Be.f().required("Required").min(8,"Password must be at least 8 characters")}),lt=Object(i.g)((function(e){var t=e.history,a=ct(),c=Object(n.useState)(!1),o=Object(j.a)(c,2),i=o[0],m=o[1],s=Object(n.useState)(""),u=Object(j.a)(s,2),d=u[0],p=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze.c,{initialValues:{email:"",password:""},onSubmit:function(e,a){a.setSubmitting(!0),x.signInWithEmailAndPassword(e.email,e.password).then((function(){a.resetForm(),a.setSubmitting(!1),t.push("/")})).catch((function(e){m(!0),p("Invalid username or password"),console.log(e),a.setSubmitting(!1)}))},validationSchema:ot},(function(e){var t=e.isSubmitting,n=e.errors,c=e.touched;return r.a.createElement(ze.b,{className:a.form},r.a.createElement(Le.a,{fullWidth:!0,margin:"normal"},r.a.createElement(ze.a,{name:"email",as:Ne.a,label:"E-mail",helperText:c.email&&n.email,error:!!n.email&&c.email})),r.a.createElement(Le.a,{fullWidth:!0,margin:"normal"},r.a.createElement(ze.a,{autoComplete:"off",name:"password",as:Ne.a,label:"Password",type:"password",helperText:c.password&&n.password,error:!!n.password&&c.password})),r.a.createElement("div",null,r.a.createElement(je.a,{className:a.button,color:"primary",variant:"contained",type:"submit",disabled:t},"Login"),r.a.createElement($.a,{variant:"caption",display:"block"},"Dont have an account?"," ",r.a.createElement("span",null,r.a.createElement(Ue.a,{href:"#",component:l.b,to:"/signup"},"Sign up")))))})),r.a.createElement(_e,{setOpen:m,open:i,msg:d}))})),it=Object(p.a)({title:{textAlign:"center",marginTop:"0.3em",paddingTop:"1em"}}),mt=function(){var e=it();return r.a.createElement(Oe.a,{component:ae.a,className:e.title,maxWidth:"xs"},r.a.createElement($.a,{alignText:"center",variant:"h5"},"Welcome back, please log in"),r.a.createElement(lt,null))},st=function(e){var t=e.component,a=Object(Ge.a)(e,["component"]),c=Object(n.useContext)(C).user;return r.a.createElement(i.b,Object.assign({},a,{render:function(e){return c?r.a.createElement(t,e):r.a.createElement(i.a,{to:"/"})}}))},ut=a(287),dt=a(198),pt=a.n(dt),ft=a(244),bt=a(288),Et=a(200),ht=a(115),gt=function(e){var t=e.field,a=e.form,n=a.errors[t.name];return r.a.createElement(Te.c,{dateAdapter:Me.a},r.a.createElement(ht.a,{renderInput:function(e){return r.a.createElement(Ne.a,e)},name:t.name,value:t.value,onChange:function(e){a.setFieldValue(t.name,e,!0)},label:"Time of measurement",showTodayButton:!0,inputFormat:"YYYY/MM/DD HH:mm",fullWidth:!0,ampm:!1,allowKeyboardControl:!0,helperText:n,error:Boolean(n)}))},Ot=Object(p.a)((function(e){var t;return{form:(t={},Object(te.a)(t,e.breakpoints.up("sm"),{maxWidth:"550px"}),Object(te.a)(t,e.breakpoints.down("xs"),{maxWidth:"98%"}),Object(te.a)(t,"margin","1em auto"),t),container:{paddingBottom:"1em"},button:{marginTop:"2em",marginBottom:"1em"}}})),jt=Be.d().shape({up:Be.c().min(20).max(380).required("Required"),down:Be.c().min(20).max(320).required("Required"),pulse:Be.c().min(20).max(250).required("Required"),dateOfMeasurement:Be.b().typeError("Invalid date")}),vt=Object(i.g)((function(e){var t=e.closeModal,a=Object(n.useContext)(C).user,c=Object(n.useContext)(S).setAppData,o=Ot(),l={up:"",down:"",pulse:"",dateOfMeasurement:new Date};return r.a.createElement(ze.c,{initialValues:l,onSubmit:function(e,n){var r=e.up,o=e.down,l=e.pulse,i=e.dateOfMeasurement,m=new Date(i).getTime();n.setSubmitting(!0),function(e,t,a,n,r){return me(e).add({up:t,down:a,pulse:n,dateOfMeasurement:r})}(a.uid,r,o,l,m).then((function(e){var a={up:r,down:o,pulse:l,dateOfMeasurement:m,docId:e.id};n.setSubmitting(!1),n.resetForm(),c((function(e){return de([].concat(Object(Et.a)(e),[a]))})),t()})).catch((function(e){console.log(e)}))},validationSchema:jt},(function(e){var t=e.isSubmitting,a=e.errors,n=e.touched;return r.a.createElement(ze.b,{className:o.form},r.a.createElement(Oe.a,{className:o.container,component:ae.a},r.a.createElement(s.a,{container:!0,spacing:2},r.a.createElement(s.a,{item:!0,xs:6,sm:6},r.a.createElement(Le.a,{fullWidth:!0},r.a.createElement(ze.a,{autoComplete:"off",name:"up",type:"number",as:Ne.a,label:"Systolic",helperText:n.up&&a.up,error:!!a.up&&n.up}))),r.a.createElement(s.a,{item:!0,xs:6,sm:6},r.a.createElement(Le.a,{fullWidth:!0},r.a.createElement(ze.a,{autoComplete:"off",name:"down",type:"number",as:Ne.a,label:"Diastolic",helperText:n.down&&a.down,error:!!a.down&&n.down}))),r.a.createElement(s.a,{item:!0,xs:12,sm:6},r.a.createElement(Le.a,{fullWidth:!0},r.a.createElement(ze.a,{autoComplete:"off",type:"number",name:"pulse",as:Ne.a,label:"Pulse",helperText:n.pulse&&a.pulse,error:!!a.pulse&&n.pulse}))),r.a.createElement(s.a,{item:!0,xs:12,sm:6},r.a.createElement(ze.a,{name:"dateOfMeasurement",component:gt}))),r.a.createElement(je.a,{className:o.button,color:"primary",variant:"contained",type:"submit",disabled:t},"Add")))}))})),wt=Object(p.a)((function(e){var t;return{button:(t={position:"fixed"},Object(te.a)(t,e.breakpoints.down("xs"),{bottom:"15%"}),Object(te.a)(t,"bottom","10%"),Object(te.a)(t,e.breakpoints.up("md"),{right:"20%"}),Object(te.a)(t,"right","10%"),Object(te.a)(t,"zIndex","10"),t),modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})),xt=Object(bt.a)()((function(e){var t=e.width,a=wt(),n={size:"xs"===t?"small":"large"},c=r.a.useState(!1),o=Object(j.a)(c,2),l=o[0],i=o[1],m=function(){i(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{className:a.modal,open:l,onClose:m},r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,{closeModal:m}))),r.a.createElement(ut.a,Object.assign({onClick:function(){i(!0)},className:a.button,color:"primary"},n),r.a.createElement(pt.a,null)))})),yt=a(289),Ct=a(290),kt=a(291),St=Object(p.a)((function(e){var t,a;return{root:(t={},Object(te.a)(t,e.breakpoints.down("xl"),{maxWidth:"40%"}),Object(te.a)(t,e.breakpoints.down("lg"),{maxWidth:"40%"}),Object(te.a)(t,e.breakpoints.down("md"),{maxWidth:"70%"}),Object(te.a)(t,e.breakpoints.down("xs"),{maxWidth:"100%"}),Object(te.a)(t,"margin","0 auto"),Object(te.a)(t,"padding","1em 0"),t),title:{marginBottom:"0.5em"},container:(a={},Object(te.a)(a,e.breakpoints.down("xl"),{maxWidth:"60%"}),Object(te.a)(a,e.breakpoints.down("xs"),{maxWidth:"95%"}),Object(te.a)(a,"minHeight","15vh"),Object(te.a)(a,"margin","6em auto"),Object(te.a)(a,"padding","1em 3em"),a),modalText:{margin:"0.2em 0"},button:{marginRight:"1em"},form:{marginTop:"1em"}}})),Nt=Be.d().shape({password:Be.f().required("Required").min(8,"Password must be at least 8 characters")}),Tt=Object(i.g)((function(e){var t=e.history,a=Object(n.useContext)(C).user,c=Object(n.useState)(null),o=Object(j.a)(c,2),l=o[0],i=o[1],m=Object(n.useState)(!1),s=Object(j.a)(m,2),u=s[0],d=s[1],p=Object(n.useState)(!1),f=Object(j.a)(p,2),b=f[0],E=f[1],h=Object(n.useState)(!1),g=Object(j.a)(h,2),O=g[0],w=g[1],x=Object(n.useContext)(S).setAppData;Object(n.useEffect)((function(){var e;(e=a.uid,y.collection("Users").doc(e).get()).then((function(e){i(e.data())}))}),[]);var k=St();return l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{open:u,onClose:function(){return d(!1)}},r.a.createElement(r.a.Fragment,null,r.a.createElement(_e,{setOpen:E,open:b,msg:"Wrong password"}),r.a.createElement(ae.a,{className:k.container},r.a.createElement($.a,{className:k.modalText},"Are you sure to delete account? This is irreversible effect. ",r.a.createElement("br",null),"Enter password to delete account."),r.a.createElement(ze.c,{initialValues:{password:""},onSubmit:function(e){var n=e.password,r=function(e,t){return v.auth.EmailAuthProvider.credential(e,t)}(a.email,n);a.reauthenticateWithCredential(r).then((function(){a.delete().then((function(){x([]),t.push("/")}))})).catch((function(){E(!0)}))},validationSchema:Nt},(function(e){var t=e.errors,a=e.touched;return r.a.createElement(ze.b,null,r.a.createElement(Le.a,null,r.a.createElement(ze.a,{type:"password",name:"password",as:Ne.a,label:"Password",helperText:a.password&&t.password,error:!!t.password&&a.password})),r.a.createElement("div",{className:k.form},r.a.createElement(je.a,{type:"submit",className:k.button,color:"secondary",variant:"contained"},"Delete account"),r.a.createElement(je.a,{variant:"contained",onClick:function(){return d(!1)}},"Cancel")))}))))),r.a.createElement(ft.a,{open:O,onClose:function(){return w(!1)}},r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{className:k.container},r.a.createElement($.a,{className:k.modalText},"Change password."),r.a.createElement(je.a,{className:k.button,color:"secondary",variant:"contained",onClick:function(){w(!1)}},"Submit"),r.a.createElement(je.a,{variant:"contained",onClick:function(){return w(!1)}},"Cancel")))),r.a.createElement(yt.a,{className:k.root,variant:"outlined"},r.a.createElement(Ct.a,null,r.a.createElement($.a,{className:k.title},"Hello ",l.name),r.a.createElement($.a,{className:k.title},"Your email: ",l.email),r.a.createElement($.a,{className:k.title},"Gender: ",l.gender),r.a.createElement($.a,{className:k.title},"Your account has been created ",ee()(l.createdAt).fromNow()," ","(".concat(ee()(l.createdAt).format("LLL"),")"))),r.a.createElement(kt.a,null,r.a.createElement(je.a,{variant:"contained",onClick:function(){return w(!0)}},"Change Password"),r.a.createElement(je.a,{variant:"contained",color:"secondary",onClick:function(){return d(!0)}},"Delete account"))))}));var Dt=function(){var e=Object(n.useContext)(C).user;return r.a.createElement(l.a,{basename:"/nopressure"},r.a.createElement(qe,null,r.a.createElement(N,null,r.a.createElement(m.a,null),r.a.createElement(s.a,{container:!0,direction:"column",style:{minHeight:"100vh"}},r.a.createElement(R,null),r.a.createElement(Z,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:ke}),r.a.createElement(st,{path:"/charts",component:Se}),r.a.createElement(st,{path:"/history",component:Ae}),r.a.createElement(st,{path:"/user",component:Tt}),r.a.createElement(i.b,{path:"/signup"},e?r.a.createElement(i.a,{push:!0,to:"/"}):r.a.createElement(rt,null)),r.a.createElement(i.b,{path:"/login"},e?r.a.createElement(i.a,{push:!0,to:"/"}):r.a.createElement(mt,null)))),e&&r.a.createElement(xt,null),e&&r.a.createElement(Q,null)))))};o.a.render(r.a.createElement(k,null,r.a.createElement(Dt,null)),document.getElementById("root"))}},[[213,1,2]]]);
//# sourceMappingURL=main.eae42b0b.chunk.js.map