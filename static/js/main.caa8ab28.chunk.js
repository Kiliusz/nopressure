(this.webpackJsonpnopressure=this.webpackJsonpnopressure||[]).push([[0],{219:function(e,t,a){e.exports=a.p+"static/media/logo.10287409.svg"},253:function(e,t,a){e.exports=a(374)},258:function(e,t,a){},374:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),l=a.n(o),c=(a(258),a(25)),s=a(54),i=a(430),m=a(378),u=a(415),d=a(377),p=a(42),f=a(219),b=a.n(f),g=a(434),h=a(167),E=a(224),O=a.n(E),v=a(12),w=a(127),j=(a(259),a(261),{apiKey:"AIzaSyB0zKDjGn1L7HhmeMVhnAQzhkcPNOpqK_4",authDomain:"nopressure-c3f97.firebaseapp.com",databaseURL:"https://nopressure-c3f97.firebaseio.com",projectId:"nopressure-c3f97",storageBucket:"nopressure-c3f97.appspot.com",messagingSenderId:"5439112905",appId:"1:5439112905:web:89fc2194727a7fab59ef18",measurementId:"G-NZRDPMX5QX"});w.initializeApp(j);var x=w.auth(),y=w.firestore(),C=Object(n.createContext)(),S=function(e,t){return w.auth.EmailAuthProvider.credential(e,t)},k=function(e){var t=e.children,a=Object(n.useState)(null),o=Object(v.a)(a,2),l=o[0],c=o[1],s=Object(n.useState)(!1),i=Object(v.a)(s,2),m=i[0],u=i[1];return Object(n.useEffect)((function(){x.onAuthStateChanged((function(e){c(e),u(!0)}))}),[]),m&&r.a.createElement(C.Provider,{value:{user:l,setUser:c}},t)},P=Object(n.createContext)(),N=function(e){var t=e.children,a=Object(n.useState)([]),o=Object(v.a)(a,2),l=o[0],c=o[1];return r.a.createElement(P.Provider,{value:{appData:l,setAppData:c}},t)},D=Object(s.g)((function(e){var t=e.history,a=Object(n.useContext)(P).setAppData;return r.a.createElement(g.a,{title:"Logout"},r.a.createElement(h.a,{color:"inherit",onClick:function(){x.signOut().then((function(){t.push("/"),a([])}))}},r.a.createElement(O.a,null)))})),T=a(35),A=a(413),M=a(414),I=a(226),W=a.n(I),R=function(){var e=Object(T.a)(),t=e.darkMode,a=e.setDarkMode;return r.a.createElement(A.a,{control:r.a.createElement(M.a,{checked:t,onChange:function(){localStorage.setItem("darkMode",!t),a(!t)},name:"darkModeSwitch"}),label:r.a.createElement(W.a,{style:{verticalAlign:"middle",padding:"0.05em"}}),labelPlacement:"start"})},F=Object(p.a)({root:{maxWidth:"800px",margin:"0 auto"}}),z=function(){var e=F(),t=Object(n.useContext)(C).user;return r.a.createElement(u.a,{position:"static"},r.a.createElement(d.a,null,r.a.createElement(m.a,{className:e.root,container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(m.a,{item:!0,component:c.b,to:"/"},r.a.createElement("img",{src:b.a,alt:"App logo NoPressure"})),r.a.createElement(m.a,{item:!0},r.a.createElement(m.a,{container:!0,alignItems:"center"},r.a.createElement(m.a,{item:!0},t&&r.a.createElement(D,null)),r.a.createElement(m.a,{item:!0},r.a.createElement(R,null)))))))},q=a(416),B=a(417),L=a(227),H=a.n(L),Y=a(228),U=a.n(Y),V=a(229),G=a.n(V),K=a(230),J=a.n(K),Q=Object(p.a)({bottomNavi:{position:"fixed",bottom:"0",width:"100%"}}),X=Object(s.g)((function(e){var t=e.location,a=Q(),o=Object(n.useState)(t.pathname),l=Object(v.a)(o,2),s=l[0],i=l[1];return r.a.createElement(q.a,{value:s,onChange:function(e,t){i(t)},showLabels:!0,className:a.bottomNavi},r.a.createElement(B.a,{value:"/",component:c.b,to:"/",label:"Home",icon:r.a.createElement(H.a,null)}),r.a.createElement(B.a,{value:"/charts",component:c.b,to:"/charts",label:"Charts",icon:r.a.createElement(U.a,null)}),r.a.createElement(B.a,{component:c.b,value:"/history",to:"/history",label:"History",icon:r.a.createElement(G.a,null)}),r.a.createElement(B.a,{component:c.b,value:"/userinfo",to:"/userinfo",label:"User",icon:r.a.createElement(J.a,null)}))})),Z=Object(p.a)({root:{flexGrow:1,padding:"1em 0.5em 4em 0.5em"}}),$=function(e){var t=e.children,a=Z();return r.a.createElement("div",{className:a.root},t)},_=a(76),ee=a(45),te=a.n(ee),ae=a(11),ne=a(189),re=a(231),oe=a.n(re),le=a(128),ce=a.n(le),se=a(125),ie=a(187),me=function(e){return y.collection("Results/".concat(e,"/UserResults"))},ue=function(){var e=Object(ie.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,me(t).orderBy("dateOfMeasurement","desc").get().then((function(e){return e.forEach((function(e){return a.push(Object(se.a)({docId:e.id},e.data()))}))})).catch((function(e){return a.push(e)}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(ie.a)(ce.a.mark((function e(t){var a,n,r=arguments;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:10,n=[],e.next=4,me(t).orderBy("dateOfMeasurement","desc").limit(a).get().then((function(e){return e.forEach((function(e){return n.push(Object(se.a)({docId:e.id},e.data()))}))})).catch((function(e){return n.push(e)}));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dateOfMeasurement",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"desc";if(e){var n=function(e,n){return e[t]<n[t]?"asc"===a?-1:1:e[t]>n[t]?"asc"===a?1:-1:0};return e.sort(n)}return e},fe=function(e,t,a,n){if(e){if(t&&!a)return e.filter((function(e){return e[n]>t}));if(!t&&a)return e.filter((function(e){return e[n]<a}));if(t&&a)return e.filter((function(e){return e[n]>t&&e[n]<a}))}return e},be=Object(p.a)((function(e){var t;return{deleteButton:(t={position:"absolute"},Object(ae.a)(t,e.breakpoints.down("xl"),{bottom:"5%",right:"5%"}),Object(ae.a)(t,e.breakpoints.down("xs"),{padding:"0.1em",bottom:"14%",right:"0"}),t)}})),ge=function(e){var t=e.docId,a=Object(n.useContext)(C).user,o=Object(n.useContext)(P).setAppData,l=be();return r.a.createElement(h.a,{onClick:function(){(function(e,t){return me(e).doc(t).delete()})(a.uid,t).then((function(){o((function(e){return pe(e.filter((function(e){return e.docId!==t})))}))}))},"aria-label":"delete",className:l.deleteButton},r.a.createElement(oe.a,{fontSize:"small"}))},he=Object(p.a)((function(e){var t,a;return{paperResult:(t={position:"relative",width:"100%"},Object(ae.a)(t,e.breakpoints.down("xl"),{padding:"0.8em 1em",margin:"0.3em 0em"}),Object(ae.a)(t,e.breakpoints.down("xs"),{padding:"0.4em 0.4em",margin:"0.3em 0em"}),Object(ae.a)(t,"fontSize","1.1em"),t),unitFont:{color:"#808080",fontSize:"0.6em"},timeFont:{color:"#808080",fontSize:"0.8em"},warning:(a={position:"absolute",color:"red",left:"5px"},Object(ae.a)(a,e.breakpoints.down("xl"),{left:"10%"}),Object(ae.a)(a,e.breakpoints.down("xs"),{left:"2%"}),Object(ae.a)(a,"fontWeight","bold"),a),monthChange:{padding:"0.5em 2em",width:"100%"}}})),Ee=function(e){var t=e.upPressure,a=e.downPressure,n=e.pulse,o=e.time,l=e.monthChange,c=e.firstMonthInRow,s=e.docId,i=t>=135||a>=90||n>=90,u=he();return r.a.createElement(r.a.Fragment,null,c&&r.a.createElement("div",{className:u.monthChange},c?te()(o).format("MMMM"):""),!!l&&r.a.createElement("div",{className:u.monthChange},l?te()(o).format("MMMM"):""),r.a.createElement(ne.a,{className:u.paperResult},i&&r.a.createElement(g.a,{title:"Blood pressure above 135/90 and pulse above 90",placement:"top-start"},r.a.createElement("div",{className:u.warning},"!")),r.a.createElement(m.a,{container:!0,justify:"space-evenly",spacing:1},r.a.createElement(m.a,{item:!0},t," / ",a," ",r.a.createElement("span",{className:u.unitFont},"mmHG")),r.a.createElement(m.a,{item:!0},n," ",r.a.createElement("span",{className:u.unitFont},"bmp")),r.a.createElement(m.a,{item:!0},r.a.createElement(_.a,{variant:"caption",className:u.timeFont},o))),r.a.createElement(ge,{docId:s})))},Oe=function(e){var t=e.data;return t?t.map((function(e,t,a){var n=e.up,o=e.down,l=e.pulse,c=e.dateOfMeasurement,s=e.docId,i=new Date(c).getMonth()-new Date(a[t?t-1:t].dateOfMeasurement).getMonth();return r.a.createElement(Ee,{firstMonthInRow:0===t&&c,monthChange:i,key:s,docId:s,upPressure:parseFloat(n),downPressure:parseFloat(o),pulse:parseFloat(l),time:te()(new Date(parseFloat(c))).format("Y/MM/DD HH:mm")})})):null},ve=a(418),we=a(379),je=Object(p.a)((function(e){return{root:{fill:e.palette.secondary.main,animation:"$beating 0.9s infinite ",marginTop:"2em"},"@keyframes beating":{"0%":{transform:"scale(1)"},"20%":{transform:"scale(1.2)"},"40%":{transform:"scale(1)"},"65%":{transform:"scale(1.2)"},"100%":{transform:"scale(1)"}}}})),xe=function(e){var t=e.size,a=je();return r.a.createElement("div",null,r.a.createElement("svg",{width:t,className:a.root,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -28 512 512"},r.a.createElement("path",{d:"m471.4 44.6c-26.5-28.7-62.9-44.6-102.4-44.6-29.6 0-56.6 9.3-80.4 27.8-12 9.3-22.9 20.7-32.5 34-9.6-13.3-20.5-24.7-32.5-34-23.8-18.4-50.9-27.8-80.4-27.8-39.5 0-75.9 15.8-102.4 44.6-26.2 28.4-40.6 67.2-40.6 109.3 0 43.3 16.1 82.9 50.8 124.7 31 37.4 75.5 75.4 127.1 119.3 17.6 15 37.6 32 58.3 50.2 5.5 4.8 12.5 7.4 19.8 7.4 7.3 0 14.3-2.6 19.8-7.4 20.7-18.1 40.7-35.2 58.3-50.2 51.6-43.9 96.1-81.9 127.1-119.3 34.6-41.8 50.8-81.4 50.8-124.7 0-42.1-14.4-80.9-40.6-109.3zm0 0"})))},ye=Object(p.a)((function(e){var t;return{container:{},header:{marginTop:"2em"},typo:(t={margin:"1em 0"},Object(ae.a)(t,e.breakpoints.down("xs"),{fontSize:"2em"}),Object(ae.a)(t,"color","light"===e.palette.type?e.palette.grey[700]:e.palette.grey[100]),t)}})),Ce=function(){var e=ye();return r.a.createElement(ve.a,null,r.a.createElement(m.a,{container:!0,className:e.container,spacing:3,justify:"center"},r.a.createElement(m.a,{className:e.header,item:!0,xs:12},r.a.createElement(_.a,{className:e.typo,align:"center",variant:"h3"},"Start tracking your blood pressure today!")),r.a.createElement(m.a,{item:!0},r.a.createElement(we.a,{variant:"contained",color:"primary",component:c.b,to:"/signup"},"Sign up")),r.a.createElement(m.a,{item:!0},r.a.createElement(we.a,{variant:"outlined",color:"primary",component:c.b,to:"/login"},"Login")),r.a.createElement(m.a,{align:"center",item:!0,xs:12},r.a.createElement(xe,{size:120}))))},Se=Object(p.a)({wrapper:{maxWidth:"800px",margin:"0 auto"},text:{marginTop:"1em"}}),ke=function(){var e=Se(),t=Object(n.useState)(!1),a=Object(v.a)(t,2),o=a[0],l=a[1],c=Object(n.useContext)(P),s=c.appData,i=c.setAppData,u=Object(n.useContext)(C).user,d=u&&s&&s.length>9,p=u&&o;return Object(n.useEffect)((function(){u&&(!s||s.length<11)&&de(u.uid,10).then((function(e){i(e),e&&0===e.length&&l(!0)})).catch((function(e){return console.log(e)}))}),[u]),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{container:!0,className:e.wrapper,justify:"center"},p&&r.a.createElement("h2",null,"Click on plus sign to add your 1st record"),u&&r.a.createElement(Oe,{data:s.slice(0,10)}),!u&&r.a.createElement(Ce,null)),d&&r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{container:!0,className:e.wrapper,justify:"center"},r.a.createElement(_.a,{className:e.text,variant:"h6"},"Your last 10 records")),r.a.createElement(m.a,{container:!0,className:e.wrapper,justify:"center"},r.a.createElement(_.a,{variant:"subtitle1"},"To see more go to the history page"))))},Pe=a(232),Ne=(a(361),a(363),function(){var e=Object(n.useContext)(P),t=e.appData,a=e.setAppData,o=Object(n.useContext)(C).user,l=Object(n.useState)({datesArr:[],systolicArr:[],diastolicArr:[],avgDia:null,avgSys:null}),c=Object(v.a)(l,2),s=c[0],i=c[1],m=o&&(t.length||t.length<11),u=function(e){var t,a,n,r=[],o=[];return t=e.map((function(e){return te()(e.dateOfMeasurement).format("ll")})).reverse(),r=e.map((function(e){return e.up})).reverse(),o=e.map((function(e){return e.down})).reverse(),a=Math.floor(r.reduce((function(e,t){return e+t}))/r.length),n=Math.floor(o.reduce((function(e,t){return e+t}))/o.length),{datesArr:t,systolicArr:r,diastolicArr:o,avgSys:a,avgDia:n}};Object(n.useEffect)((function(){m?ue(o.uid).then((function(e){a(e),i(u(t))})).catch((function(e){return console.log(e)})):i(u(t))}),[a,o.uid,m]),console.log(s);var d={labels:s.datesArr,datasets:[{label:"Systolic",data:s.systolicArr,fill:!1,pointRadius:2,backgroundColor:"blue",borderColor:"blue",borderWidth:1,lineTension:0},{label:"Diastolic",data:s.diastolicArr,backgroundColor:"#1565C0",borderColor:"#1565C0",fill:!1,pointRadius:2,borderWidth:1,lineTension:0}]},p={maintainAspectRatio:!1,responsive:!0,tooltips:{enabled:!0,mode:"x",intersect:!1},annotation:{annotations:[{drawTime:"afterDraw",id:"a-line-1",type:"line",mode:"horizontal",scaleID:"y-axis-0",value:120,borderColor:"green",borderWidth:1,label:{backgroundColor:"rgba(0,255,0,0.3)",fontFamily:"sans-serif",fontSize:13,fontStyle:"normal",fontColor:"black",xPadding:6,yPadding:6,cornerRadius:6,position:"left",xAdjust:0,yAdjust:20,enabled:!0,content:"Normal diastolic pressure"}},{drawTime:"afterDatasetsDraw",id:"a-line-3",type:"line",mode:"horizontal",scaleID:"y-axis-0",value:s.avgDia,borderColor:"red",borderWidth:1,label:{backgroundColor:"rgba(255,0,0,0.8)",fontFamily:"sans-serif",fontSize:13,fontStyle:"normal",fontColor:"white",xPadding:6,yPadding:6,cornerRadius:6,position:"right",xAdjust:0,yAdjust:s.avgDia>80?-20:20,enabled:!0,content:"Average ".concat(s.avgDia)}},{drawTime:"afterDraw",id:"a-line-2",type:"line",mode:"horizontal",scaleID:"y-axis-0",value:80,borderColor:"green",borderWidth:1,label:{backgroundColor:"rgba(0,255,0,0.3)",fontFamily:"sans-serif",fontSize:13,fontStyle:"normal",fontColor:"black",xPadding:6,yPadding:6,cornerRadius:6,position:"left",xAdjust:0,yAdjust:20,enabled:!0,content:"Normal systolic pressure"}},{drawTime:"afterDatasetsDraw",id:"a-line-4",type:"line",mode:"horizontal",scaleID:"y-axis-0",value:s.avgSys,borderColor:"red",borderWidth:1,label:{backgroundColor:"rgba(255,0,0,0.8)",fontFamily:"sans-serif",fontSize:13,fontStyle:"normal",fontColor:"white",xPadding:6,yPadding:6,cornerRadius:6,position:"right",xAdjust:0,yAdjust:s.avgSys>120?-20:20,enabled:!0,content:"Average ".concat(s.avgSys)}}]},plugins:{zoom:{pan:{enabled:!0,mode:"x",speed:2},zoom:{enabled:!0,mode:"x",speed:2,threshold:0,sensitivity:0}}}};return r.a.createElement("div",{style:{margin:" 0 auto",maxWidth:"95%"}},r.a.createElement("div",{style:{position:"relative",height:"75vh",backgroundColor:"#f9f9f9"}},s&&s.avgDia&&r.a.createElement(Pe.a,{data:d,options:p})))}),De=a(431),Te=a(7),Ae=a(184),Me=a(161),Ie=Object(p.a)({formText:{"& input":{padding:"0.6em 1em"}},formDate:{"& input":{padding:"0.6em 1em"}}}),We=function(e){var t=e.appData,a=e.setDisplayData,o=Ie(),l=Object(n.useState)([null,null]),c=Object(v.a)(l,2),s=c[0],i=c[1],u=Object(n.useState)(""),d=Object(v.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(""),g=Object(v.a)(b,2),h=g[0],E=g[1];return Object(n.useEffect)((function(){t&&t.length>0&&function(){var e=fe(t,s[0],s[1],"dateOfMeasurement");e=fe(e,p,h,"up"),a(e)}()}),[t,s,p,h]),r.a.createElement(m.a,{container:!0,alignItems:"center"},r.a.createElement(m.a,{item:!0,xs:10},r.a.createElement(m.a,{container:!0,spacing:1},r.a.createElement(m.a,{item:!0,xs:12},r.a.createElement(Te.c,{dateAdapter:Me.a},r.a.createElement(Ae.a,{startText:"From date",endText:"To date",value:s,onChange:function(e){i(e)},renderInput:function(e,t){return r.a.createElement(m.a,{container:!0,spacing:1},r.a.createElement(m.a,{item:!0,xs:6},r.a.createElement(De.a,Object.assign({className:o.formDate,InputLabelProps:{shrink:!0}},e,{helperText:""}))),r.a.createElement(m.a,{item:!0,xs:6},r.a.createElement(De.a,Object.assign({className:o.formDate,InputLabelProps:{shrink:!0}},t,{helperText:""}))))}}))),r.a.createElement(m.a,{item:!0,xs:6},r.a.createElement(De.a,{className:o.formText,id:"greater",value:p,label:"Sys. greater than",type:"number",onKeyDown:function(e){return(69===e.keyCode||190===e.keyCode)&&e.preventDefault()},onChange:function(e){f(e.target.value)},InputLabelProps:{shrink:!0},variant:"outlined"})),r.a.createElement(m.a,{item:!0,xs:6},r.a.createElement(De.a,{className:o.formText,id:"less",value:h,label:"Sys. less than",type:"number",onKeyDown:function(e){return(69===e.keyCode||190===e.keyCode)&&e.preventDefault()},onChange:function(e){E(e.target.value)},InputLabelProps:{shrink:!0},variant:"outlined"})))),r.a.createElement(m.a,{item:!0,justify:"center",xs:2},r.a.createElement(we.a,{onClick:function(){i([null,null]),f(""),E("")},color:"primary"},"Reset")))},Re=Object(p.a)({wrapper:{maxWidth:"800px",margin:"0 auto"}}),Fe=function(){var e=Re(),t=Object(n.useContext)(P),a=t.appData,o=t.setAppData,l=Object(n.useContext)(C).user,c=Object(n.useState)(null),s=Object(v.a)(c,2),i=s[0],u=s[1],d=l&&(!a.length||a.length<11);return Object(n.useEffect)((function(){d&&ue(l.uid).then((function(e){o(e)})).catch((function(e){return console.log(e)}))}),[o,l.uid,d]),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{container:!0,className:e.wrapper,justify:"center"},r.a.createElement(We,{appData:a,setDisplayData:u}),r.a.createElement(Oe,{data:i})))},ze=a(239),qe=a(423),Be=function(e){var t=e.children,a=null!==localStorage.getItem("darkMode")&&JSON.parse(localStorage.getItem("darkMode")),o=Object(n.useState)(a),l=Object(v.a)(o,2),c=l[0],s=l[1],i=Object(ze.a)({overrides:{MuiTooltip:{tooltip:{fontSize:"0.9em"}}},darkMode:c,setDarkMode:s,palette:{primary:{main:c?"#4587d1":"#1565c0"},secondary:{main:"#e53935"},type:c?"dark":"light"}});return r.a.createElement(qe.a,{theme:i},t)},Le=a(17),He=a(18),Ye=a(435),Ue=a(421),Ve=a(422),Ge=a(424),Ke=a(113),Je=a(432),Qe=function(e){var t=e.label,a=Object(Ke.a)(e,["label"]),n=Object(Le.d)(Object(se.a)({},a)),o=Object(v.a)(n,2),l=o[0],c=o[1];return r.a.createElement(A.a,{control:r.a.createElement(Je.a,Object.assign({},a,c,l)),label:t})},Xe=function(e){var t=e.label,a=Object(Ke.a)(e,["label"]),n=Object(Le.d)(a),o=Object(v.a)(n,1)[0];return r.a.createElement(A.a,{control:r.a.createElement(Je.a,Object.assign({},o,a)),label:t})},Ze=a(433),$e=a(237),_e=a.n($e),et=Object(p.a)((function(e){return{snackContainer:{padding:"0.3em 1em",display:"flex",backgroundColor:function(t){var a=t.color;return e.palette[a].main},borderRadius:"1em"},snackText:{color:"white",marginRight:"1em"}}})),tt=function(e){var t=e.open,a=e.msg,n=e.setOpen,o=e.color,l=et({color:o}),c=function(){return n(!1)};return r.a.createElement(Ze.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:t,autoHideDuration:4e3,onClose:c},r.a.createElement("div",{className:l.snackContainer},r.a.createElement("p",{className:l.snackText},a),r.a.createElement(h.a,{size:"small","aria-label":"close",color:"inherit",onClick:c},r.a.createElement(_e.a,{fontSize:"small"}))))},at=Object(p.a)((function(e){return{form:{padding:"1em",textAlign:"left"},button:{marginTop:"1em",marginBottom:"1em"},field:{marginBottom:"0.2em"},snackContainer:{padding:"0.3em 1em",display:"flex",backgroundColor:e.palette.error.main,borderRadius:"1em"},snackText:{color:"white",marginRight:"1em"}}})),nt=He.d().shape({name:He.f().min(2,"Too Short!").max(15,"Too Long!").required("Required"),email:He.f().email().required("Required"),password:He.f().required("Required").min(8,"Password must be at least 8 characters"),confirmPassword:He.f().oneOf([He.e("password"),null],"Passwords must match"),acceptTerms:He.a().oneOf([!0],"You have to accept terms and conditions"),gender:He.f().required("You have to select one option")}),rt=Object(s.g)((function(e){var t=e.history,a=at(),o=Object(n.useState)(!1),l=Object(v.a)(o,2),s=l[0],i=l[1],m=Object(n.useState)(""),u=Object(v.a)(m,2),d=u[0],p=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Le.c,{initialValues:{name:"",email:"",password:"",confirmPassword:"",gender:"",acceptTerms:!1},onSubmit:function(e,a){a.setSubmitting(!0),x.createUserWithEmailAndPassword(e.email,e.password).then((function(n){var r,o,l,c,s=n.user;r=e.name,o=s.uid,l=e.gender,c=e.email,y.collection("Users").doc(o).set({name:r,gender:l,createdAt:(new Date).getTime(),email:c}),a.resetForm(),a.setSubmitting(!1),t.push("/")})).catch((function(e){i(!0),p(e.message),a.setSubmitting(!1)}))},validationSchema:nt},(function(e){var t=e.isSubmitting,n=e.errors,o=e.touched;return r.a.createElement(Le.b,{className:a.form},r.a.createElement(Ye.a,{fullWidth:!0},r.a.createElement(Le.a,{className:a.field,autoComplete:"off",name:"name",as:De.a,label:"Name",helperText:o.name&&n.name,error:!!n.name&&o.name})),r.a.createElement(Ye.a,{fullWidth:!0},r.a.createElement(Le.a,{className:a.field,name:"email",as:De.a,label:"E-mail",helperText:o.email&&n.email,error:!!n.email&&o.email})),r.a.createElement(Ye.a,{fullWidth:!0},r.a.createElement(Le.a,{className:a.field,autoComplete:"off",name:"password",as:De.a,label:"Password",type:"password",helperText:o.password&&n.password,error:!!n.password&&o.password})),r.a.createElement(Ye.a,{fullWidth:!0},r.a.createElement(Le.a,{className:a.field,name:"confirmPassword",as:De.a,label:"Confirm password",type:"password",helperText:o.confirmPassword&&n.confirmPassword,error:!!n.confirmPassword&&o.confirmPassword})),r.a.createElement(Ye.a,{margin:"normal"},r.a.createElement(Ue.a,null,"Gender"),r.a.createElement(Xe,{color:"primary",type:"radio",name:"gender",value:"female",label:"Female"}),r.a.createElement(Xe,{color:"primary",type:"radio",name:"gender",value:"male",label:"Male"}),r.a.createElement(Ve.a,{error:!0},o.gender&&n.gender)),r.a.createElement("div",null,r.a.createElement(Ye.a,null,r.a.createElement(Qe,{color:"primary",name:"acceptTerms",label:"I accept terms and conditions"}),r.a.createElement(Ve.a,{error:!0},o.acceptTerms&&n.acceptTerms))),r.a.createElement("div",null,r.a.createElement(we.a,{className:a.button,color:"primary",variant:"contained",type:"submit",disabled:t},"Submit"),r.a.createElement(_.a,{variant:"caption",display:"block"},"Already have an account?"," ",r.a.createElement("span",null,r.a.createElement(Ge.a,{component:c.b,to:"/login"},"Login")))))})),r.a.createElement(tt,{setOpen:i,open:s,msg:d,color:"error"}))})),ot=Object(p.a)({title:{textAlign:"center",marginTop:"0.3em",paddingTop:"1em"}}),lt=function(){var e=ot();return r.a.createElement(ve.a,{component:ne.a,className:e.title,maxWidth:"xs"},r.a.createElement(_.a,{alignText:"center",variant:"h5"},"Sign up and start using app"),r.a.createElement(rt,null))},ct=Object(p.a)({form:{padding:"1em",textAlign:"left"},button:{marginTop:"2em",marginBottom:"1em"}}),st=He.d().shape({email:He.f().email().required("Required"),password:He.f().required("Required").min(8,"Password must be at least 8 characters")}),it=Object(s.g)((function(e){var t=e.history,a=ct(),o=Object(n.useState)(!1),l=Object(v.a)(o,2),s=l[0],i=l[1],m=Object(n.useState)(""),u=Object(v.a)(m,2),d=u[0],p=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Le.c,{initialValues:{email:"",password:""},onSubmit:function(e,a){a.setSubmitting(!0),x.signInWithEmailAndPassword(e.email,e.password).then((function(){a.resetForm(),a.setSubmitting(!1),t.push("/")})).catch((function(e){i(!0),p("Invalid username or password"),console.log(e),a.setSubmitting(!1)}))},validationSchema:st},(function(e){var t=e.isSubmitting,n=e.errors,o=e.touched;return r.a.createElement(Le.b,{className:a.form},r.a.createElement(Ye.a,{fullWidth:!0,margin:"normal"},r.a.createElement(Le.a,{name:"email",as:De.a,label:"E-mail",helperText:o.email&&n.email,error:!!n.email&&o.email})),r.a.createElement(Ye.a,{fullWidth:!0,margin:"normal"},r.a.createElement(Le.a,{autoComplete:"off",name:"password",as:De.a,label:"Password",type:"password",helperText:o.password&&n.password,error:!!n.password&&o.password})),r.a.createElement("div",null,r.a.createElement(we.a,{className:a.button,color:"primary",variant:"contained",type:"submit",disabled:t},"Login"),r.a.createElement(_.a,{variant:"caption",display:"block"},"Dont have an account?"," ",r.a.createElement("span",null,r.a.createElement(Ge.a,{href:"#",component:c.b,to:"/signup"},"Sign up")))))})),r.a.createElement(tt,{setOpen:i,open:s,msg:d,color:"error"}))})),mt=Object(p.a)({title:{textAlign:"center",marginTop:"0.3em",paddingTop:"1em"}}),ut=function(){var e=mt();return r.a.createElement(ve.a,{component:ne.a,className:e.title,maxWidth:"xs"},r.a.createElement(_.a,{alignText:"center",variant:"h5"},"Welcome back, please log in"),r.a.createElement(it,null))},dt=function(e){var t=e.component,a=Object(Ke.a)(e,["component"]),o=Object(n.useContext)(C).user;return r.a.createElement(s.b,Object.assign({},a,{render:function(e){return o?r.a.createElement(t,e):r.a.createElement(s.a,{to:"/"})}}))},pt=a(425),ft=a(238),bt=a.n(ft),gt=a(382),ht=a(426),Et=a(240),Ot=a(122),vt=function(e){var t=e.field,a=e.form,n=a.errors[t.name];return r.a.createElement(Te.c,{dateAdapter:Me.a},r.a.createElement(Ot.a,{renderInput:function(e){return r.a.createElement(De.a,e)},name:t.name,value:t.value,onChange:function(e){a.setFieldValue(t.name,e,!0)},label:"Time of measurement",showTodayButton:!0,inputFormat:"YYYY/MM/DD HH:mm",fullWidth:!0,ampm:!1,allowKeyboardControl:!0,helperText:n,error:Boolean(n)}))},wt=Object(p.a)((function(e){var t;return{form:(t={},Object(ae.a)(t,e.breakpoints.up("sm"),{maxWidth:"550px"}),Object(ae.a)(t,e.breakpoints.down("xs"),{maxWidth:"98%"}),Object(ae.a)(t,"margin","1em auto"),t),container:{paddingBottom:"1em"},button:{marginTop:"2em",marginBottom:"1em"}}})),jt=He.d().shape({up:He.c().min(20).max(380).required("Required"),down:He.c().min(20).max(320).required("Required"),pulse:He.c().min(20).max(250).required("Required"),dateOfMeasurement:He.b().typeError("Invalid date")}),xt=Object(s.g)((function(e){var t=e.closeModal,a=Object(n.useContext)(C).user,o=Object(n.useContext)(P).setAppData,l=wt(),c={up:"",down:"",pulse:"",dateOfMeasurement:new Date};return r.a.createElement(Le.c,{initialValues:c,onSubmit:function(e,n){var r=e.up,l=e.down,c=e.pulse,s=e.dateOfMeasurement,i=new Date(s).getTime();n.setSubmitting(!0),function(e,t,a,n,r){return me(e).add({up:t,down:a,pulse:n,dateOfMeasurement:r})}(a.uid,r,l,c,i).then((function(e){var a={up:r,down:l,pulse:c,dateOfMeasurement:i,docId:e.id};n.setSubmitting(!1),n.resetForm(),o((function(e){return pe([].concat(Object(Et.a)(e),[a]))})),t()})).catch((function(e){console.log(e)}))},validationSchema:jt},(function(e){var t=e.isSubmitting,a=e.errors,n=e.touched;return r.a.createElement(Le.b,{className:l.form},r.a.createElement(ve.a,{className:l.container,component:ne.a},r.a.createElement(m.a,{container:!0,spacing:2},r.a.createElement(m.a,{item:!0,xs:6,sm:6},r.a.createElement(Ye.a,{fullWidth:!0},r.a.createElement(Le.a,{autoComplete:"off",name:"up",type:"number",as:De.a,label:"Systolic",helperText:n.up&&a.up,error:!!a.up&&n.up}))),r.a.createElement(m.a,{item:!0,xs:6,sm:6},r.a.createElement(Ye.a,{fullWidth:!0},r.a.createElement(Le.a,{autoComplete:"off",name:"down",type:"number",as:De.a,label:"Diastolic",helperText:n.down&&a.down,error:!!a.down&&n.down}))),r.a.createElement(m.a,{item:!0,xs:12,sm:6},r.a.createElement(Ye.a,{fullWidth:!0},r.a.createElement(Le.a,{autoComplete:"off",type:"number",name:"pulse",as:De.a,label:"Pulse",helperText:n.pulse&&a.pulse,error:!!a.pulse&&n.pulse}))),r.a.createElement(m.a,{item:!0,xs:12,sm:6},r.a.createElement(Le.a,{name:"dateOfMeasurement",component:vt}))),r.a.createElement(we.a,{className:l.button,color:"primary",variant:"contained",type:"submit",disabled:t},"Add")))}))})),yt=Object(p.a)((function(e){var t;return{button:(t={position:"fixed"},Object(ae.a)(t,e.breakpoints.down("xs"),{bottom:"15%"}),Object(ae.a)(t,"bottom","10%"),Object(ae.a)(t,e.breakpoints.up("md"),{right:"20%"}),Object(ae.a)(t,"right","10%"),Object(ae.a)(t,"zIndex","10"),t),modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})),Ct=Object(ht.a)()((function(e){var t=e.width,a=yt(),n={size:"xs"===t?"small":"large"},o=r.a.useState(!1),l=Object(v.a)(o,2),c=l[0],s=l[1],i=function(){s(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(gt.a,{className:a.modal,open:c,onClose:i},r.a.createElement(r.a.Fragment,null,r.a.createElement(xt,{closeModal:i}))),r.a.createElement(pt.a,Object.assign({onClick:function(){s(!0)},className:a.button,color:"primary"},n),r.a.createElement(bt.a,null)))})),St=a(427),kt=a(428),Pt=a(429),Nt=Object(p.a)((function(e){var t;return{container:(t={},Object(ae.a)(t,e.breakpoints.down("xl"),{maxWidth:"600px"}),Object(ae.a)(t,e.breakpoints.down("xs"),{maxWidth:"95%"}),Object(ae.a)(t,"minHeight","15vh"),Object(ae.a)(t,"margin","6em auto"),Object(ae.a)(t,"padding","1em 3em"),t),text:{margin:"0.2em 0"},button:{marginRight:"1em"},inputs:{marginBottom:"1em"}}})),Dt=He.d().shape({oldPass:He.f().required("Required").min(8,"Password must be at least 8 characters"),newPass:He.f().required("Required").min(8,"Password must be at least 8 characters").notOneOf([He.e("oldPass"),null],"New Password must be different than old one"),newPassConfirm:He.f().oneOf([He.e("newPass"),null],"Passwords must match")}),Tt=function(e){var t=e.setOpenChangePass,a=e.setOpenSuccessSnack,o=Nt(),l=Object(n.useContext)(C).user,c=Object(n.useState)(!1),s=Object(v.a)(c,2),i=s[0],m=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{className:o.container},r.a.createElement(_.a,{className:o.text},"Change password."),r.a.createElement(Le.c,{initialValues:{oldPass:"",newPass:"",newPassConfirm:""},onSubmit:function(e){var n=e.oldPass,r=e.newPass,o=S(l.email,n);l.reauthenticateWithCredential(o).then((function(){l.updatePassword(r).then((function(){a(!0),t(!1)}))})).catch((function(){m(!0),t(!0)}))},validationSchema:Dt},(function(e){var a=e.errors,n=e.touched;return r.a.createElement(Le.b,null,r.a.createElement(Ye.a,null,r.a.createElement(Le.a,{className:o.inputs,type:"password",name:"oldPass",as:De.a,label:"Old Password",helperText:n.password&&a.password,error:!!a.password&&n.password}),r.a.createElement(Le.a,{className:o.inputs,type:"password",name:"newPass",as:De.a,label:"New Password",helperText:n.newPass&&a.newPass,error:!!a.newPass&&n.newPass}),r.a.createElement(Le.a,{className:o.inputs,type:"password",name:"newPassConfirm",as:De.a,label:"Confirm New Password",helperText:n.newPassConfirm&&a.newPassConfirm,error:!!a.newPassConfirm&&n.newPassConfirm})),r.a.createElement("div",null,r.a.createElement(we.a,{className:o.button,color:"primary",variant:"contained",type:"submit"},"Submit"),r.a.createElement(we.a,{variant:"contained",onClick:function(){return t(!1)}},"Cancel")))}))),r.a.createElement(tt,{setOpen:m,open:i,msg:"Invalid password",color:"error"}))},At=Object(p.a)((function(e){var t;return{container:(t={},Object(ae.a)(t,e.breakpoints.down("xl"),{maxWidth:"600px"}),Object(ae.a)(t,e.breakpoints.down("xs"),{maxWidth:"95%"}),Object(ae.a)(t,"minHeight","15vh"),Object(ae.a)(t,"margin","6em auto"),Object(ae.a)(t,"padding","1em 3em"),t),modalText:{margin:"0.2em 0"},button:{marginRight:"1em"},form:{marginTop:"1em"}}})),Mt=He.d().shape({password:He.f().required("Required").min(8,"Password must be at least 8 characters")}),It=Object(s.g)((function(e){var t=e.history,a=e.setOpenDelete,o=At(),l=Object(n.useContext)(C).user,c=Object(n.useContext)(P).setAppData,s=Object(n.useState)(!1),i=Object(v.a)(s,2),m=i[0],u=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(tt,{setOpen:u,open:m,msg:"Wrong password",color:"error"}),r.a.createElement(ne.a,{className:o.container},r.a.createElement(_.a,{className:o.modalText},"Are you sure to delete account? This is irreversible effect. ",r.a.createElement("br",null),"Enter password to delete account."),r.a.createElement(Le.c,{initialValues:{password:""},onSubmit:function(e){var a=e.password,n=S(l.email,a);l.reauthenticateWithCredential(n).then((function(){l.delete().then((function(){c([]),t.push("/")}))})).catch((function(){u(!0)}))},validationSchema:Mt},(function(e){var t=e.errors,n=e.touched;return r.a.createElement(Le.b,null,r.a.createElement(Ye.a,null,r.a.createElement(Le.a,{type:"password",name:"password",as:De.a,label:"Password",helperText:n.password&&t.password,error:!!t.password&&n.password})),r.a.createElement("div",{className:o.form},r.a.createElement(we.a,{type:"submit",className:o.button,color:"secondary",variant:"contained"},"Delete account"),r.a.createElement(we.a,{variant:"contained",onClick:function(){return a(!1)}},"Cancel")))}))))})),Wt=Object(p.a)((function(e){var t;return{root:(t={},Object(ae.a)(t,e.breakpoints.down("xl"),{maxWidth:"800px"}),Object(ae.a)(t,e.breakpoints.down("xs"),{maxWidth:"100%"}),Object(ae.a)(t,"margin","0 auto"),Object(ae.a)(t,"padding","1em 0"),t),title:{marginBottom:"0.5em"}}})),Rt=function(){var e=Object(n.useContext)(C).user,t=Object(n.useState)(null),a=Object(v.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)(!1),s=Object(v.a)(c,2),i=s[0],m=s[1],u=Object(n.useState)(!1),d=Object(v.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(!1),g=Object(v.a)(b,2),h=g[0],E=g[1];Object(n.useEffect)((function(){var t;(t=e.uid,y.collection("Users").doc(t).get()).then((function(e){l(e.data())}))}),[e.uid]);var O=Wt();return o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(gt.a,{open:i,onClose:function(){return m(!1)}},r.a.createElement(It,{setOpenDelete:m})),r.a.createElement(gt.a,{open:p,onClose:function(){return f(!1)}},r.a.createElement(Tt,{setOpenSuccessSnack:E,setOpenChangePass:f})),r.a.createElement(tt,{setOpen:E,open:h,msg:"Password Changed",color:"success"}),r.a.createElement(St.a,{className:O.root,variant:"outlined"},r.a.createElement(kt.a,null,r.a.createElement(_.a,{className:O.title},"Hello ",o.name),r.a.createElement(_.a,{className:O.title},"Your email: ",o.email),r.a.createElement(_.a,{className:O.title},"Gender: ",o.gender),r.a.createElement(_.a,{className:O.title},"Your account has been created ",te()(o.createdAt).fromNow()," ","(".concat(te()(o.createdAt).format("LLL"),")"))),r.a.createElement(Pt.a,null,r.a.createElement(we.a,{variant:"contained",onClick:function(){return f(!0)}},"Change Password"),r.a.createElement(we.a,{variant:"contained",color:"secondary",onClick:function(){return m(!0)}},"Delete account"))))};var Ft=function(){var e=Object(n.useContext)(C).user;return r.a.createElement(c.a,{basename:"/nopressure"},r.a.createElement(Be,null,r.a.createElement(N,null,r.a.createElement(i.a,null),r.a.createElement(m.a,{container:!0,direction:"column",style:{minHeight:"100vh"}},r.a.createElement(z,null),r.a.createElement($,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:ke}),r.a.createElement(dt,{path:"/charts",component:Ne}),r.a.createElement(dt,{path:"/history",component:Fe}),r.a.createElement(dt,{path:"/userinfo",component:Rt}),r.a.createElement(s.b,{path:"/signup"},e?r.a.createElement(s.a,{push:!0,to:"/"}):r.a.createElement(lt,null)),r.a.createElement(s.b,{path:"/login"},e?r.a.createElement(s.a,{push:!0,to:"/"}):r.a.createElement(ut,null)))),e&&r.a.createElement(Ct,null),e&&r.a.createElement(X,null)))))};l.a.render(r.a.createElement(k,null,r.a.createElement(Ft,null)),document.getElementById("root"))}},[[253,1,2]]]);
//# sourceMappingURL=main.caa8ab28.chunk.js.map