(this.webpackJsonpnopressure=this.webpackJsonpnopressure||[]).push([[0],{219:function(e,t,a){e.exports=a.p+"static/media/logo.89972151.svg"},253:function(e,t,a){e.exports=a(374)},258:function(e,t,a){},374:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),l=a.n(o),c=(a(258),a(24)),i=a(54),s=a(430),m=a(378),u=a(415),d=a(377),p=a(42),f=a(219),b=a.n(f),g=a(434),h=a(167),E=a(224),O=a.n(E),v=a(12),w=a(127);a(259),a(261);w.initializeApp({apiKey:"AIzaSyB0zKDjGn1L7HhmeMVhnAQzhkcPNOpqK_4",authDomain:"nopressure-c3f97.firebaseapp.com",databaseURL:"https://nopressure-c3f97.firebaseio.com",projectId:"nopressure-c3f97",storageBucket:"nopressure-c3f97.appspot.com",messagingSenderId:"5439112905",appId:"1:5439112905:web:89fc2194727a7fab59ef18",measurementId:"G-NZRDPMX5QX"});var j=w.auth(),x=w.firestore(),y=Object(n.createContext)(),C=function(e,t){return w.auth.EmailAuthProvider.credential(e,t)},S=function(e){var t=e.children,a=Object(n.useState)(null),o=Object(v.a)(a,2),l=o[0],c=o[1],i=Object(n.useState)(!1),s=Object(v.a)(i,2),m=s[0],u=s[1];return Object(n.useEffect)((function(){j.onAuthStateChanged((function(e){c(e),u(!0)}))}),[]),m&&r.a.createElement(y.Provider,{value:{user:l,setUser:c}},t)},k=Object(n.createContext)(),P=function(e){var t=e.children,a=Object(n.useState)([]),o=Object(v.a)(a,2),l=o[0],c=o[1];return r.a.createElement(k.Provider,{value:{appData:l,setAppData:c}},t)},N=Object(i.g)((function(e){var t=e.history,a=Object(n.useContext)(k).setAppData;return r.a.createElement(g.a,{title:"Logout"},r.a.createElement(h.a,{color:"inherit",onClick:function(){j.signOut().then((function(){t.push("/"),a([])}))}},r.a.createElement(O.a,null)))})),D=a(35),T=a(413),A=a(414),M=a(226),I=a.n(M),W=function(){var e=Object(D.a)(),t=e.darkMode,a=e.setDarkMode;return r.a.createElement(T.a,{control:r.a.createElement(A.a,{checked:t,onChange:function(){localStorage.setItem("darkMode",!t),a(!t)},name:"darkModeSwitch"}),label:r.a.createElement(I.a,{style:{verticalAlign:"middle",padding:"0.05em"}}),labelPlacement:"start"})},R=Object(p.a)({root:{maxWidth:"800px",margin:"0 auto"}}),F=function(){var e=R(),t=Object(n.useContext)(y).user;return r.a.createElement(u.a,{position:"static"},r.a.createElement(d.a,null,r.a.createElement(m.a,{className:e.root,container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(m.a,{item:!0,component:c.b,to:"/"},r.a.createElement("img",{src:b.a,alt:"App logo NoPressure"})),r.a.createElement(m.a,{item:!0},r.a.createElement(m.a,{container:!0,alignItems:"center"},r.a.createElement(m.a,{item:!0},t&&r.a.createElement(N,null)),r.a.createElement(m.a,{item:!0},r.a.createElement(W,null)))))))},z=a(416),q=a(417),B=a(227),L=a.n(B),H=a(228),Y=a.n(H),U=a(229),V=a.n(U),G=a(230),K=a.n(G),J=Object(p.a)({bottomNavi:{position:"fixed",bottom:"0",width:"100%"}}),Q=Object(i.g)((function(e){var t=e.location,a=J(),o=Object(n.useState)(t.pathname),l=Object(v.a)(o,2),i=l[0],s=l[1];return r.a.createElement(z.a,{value:i,onChange:function(e,t){s(t)},showLabels:!0,className:a.bottomNavi},r.a.createElement(q.a,{value:"/",component:c.b,to:"/",label:"Home",icon:r.a.createElement(L.a,null)}),r.a.createElement(q.a,{value:"/charts",component:c.b,to:"/charts",label:"Charts",icon:r.a.createElement(Y.a,null)}),r.a.createElement(q.a,{component:c.b,value:"/history",to:"/history",label:"History",icon:r.a.createElement(V.a,null)}),r.a.createElement(q.a,{component:c.b,value:"/userinfo",to:"/userinfo",label:"User",icon:r.a.createElement(K.a,null)}))})),X=Object(p.a)({root:{flexGrow:1,padding:"1em 0.5em 4em 0.5em"}}),Z=function(e){var t=e.children,a=X();return r.a.createElement("div",{className:a.root},t)},$=a(76),_=a(45),ee=a.n(_),te=a(11),ae=a(189),ne=a(231),re=a.n(ne),oe=a(128),le=a.n(oe),ce=a(125),ie=a(187),se=function(e){return x.collection("Results/".concat(e,"/UserResults"))},me=function(){var e=Object(ie.a)(le.a.mark((function e(t){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,se(t).orderBy("dateOfMeasurement","desc").get().then((function(e){return e.forEach((function(e){return a.push(Object(ce.a)({docId:e.id},e.data()))}))})).catch((function(e){return a.push(e)}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(ie.a)(le.a.mark((function e(t){var a,n,r=arguments;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:10,n=[],e.next=4,se(t).orderBy("dateOfMeasurement","desc").limit(a).get().then((function(e){return e.forEach((function(e){return n.push(Object(ce.a)({docId:e.id},e.data()))}))})).catch((function(e){return n.push(e)}));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dateOfMeasurement",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"desc";if(e){var n=function(e,n){return e[t]<n[t]?"asc"===a?-1:1:e[t]>n[t]?"asc"===a?1:-1:0};return e.sort(n)}return e},pe=function(e,t,a,n){if(e){if(t&&!a)return e.filter((function(e){return e[n]>t}));if(!t&&a)return e.filter((function(e){return e[n]<a}));if(t&&a)return e.filter((function(e){return e[n]>t&&e[n]<a}))}return e},fe=Object(p.a)((function(e){var t;return{deleteButton:(t={position:"absolute"},Object(te.a)(t,e.breakpoints.down("xl"),{bottom:"5%",right:"5%"}),Object(te.a)(t,e.breakpoints.down("xs"),{padding:"0.1em",bottom:"14%",right:"0"}),t)}})),be=function(e){var t=e.docId,a=Object(n.useContext)(y).user,o=Object(n.useContext)(k).setAppData,l=fe();return r.a.createElement(h.a,{onClick:function(){(function(e,t){return se(e).doc(t).delete()})(a.uid,t).then((function(){o((function(e){return de(e.filter((function(e){return e.docId!==t})))}))}))},"aria-label":"delete",className:l.deleteButton},r.a.createElement(re.a,{fontSize:"small"}))},ge=Object(p.a)((function(e){var t,a;return{paperResult:(t={position:"relative",width:"100%"},Object(te.a)(t,e.breakpoints.down("xl"),{padding:"0.8em 1em",margin:"0.3em 0em"}),Object(te.a)(t,e.breakpoints.down("xs"),{padding:"0.4em 0.4em",margin:"0.3em 0em"}),Object(te.a)(t,"fontSize","1.1em"),t),unitFont:{color:"#808080",fontSize:"0.6em"},timeFont:{color:"#808080",fontSize:"0.8em"},warning:(a={position:"absolute",color:"red",left:"5px"},Object(te.a)(a,e.breakpoints.down("xl"),{left:"10%"}),Object(te.a)(a,e.breakpoints.down("xs"),{left:"2%"}),Object(te.a)(a,"fontWeight","bold"),a),monthChange:{padding:"0.5em 2em",width:"100%"}}})),he=function(e){var t=e.upPressure,a=e.downPressure,n=e.pulse,o=e.time,l=e.monthChange,c=e.firstMonthInRow,i=e.docId,s=t>=135||a>=90||n>=90,u=ge();return r.a.createElement(r.a.Fragment,null,c&&r.a.createElement("div",{className:u.monthChange},c?ee()(o).format("MMMM"):""),!!l&&r.a.createElement("div",{className:u.monthChange},l?ee()(o).format("MMMM"):""),r.a.createElement(ae.a,{className:u.paperResult},s&&r.a.createElement(g.a,{title:"Blood pressure above 135/90 and pulse above 90",placement:"top-start"},r.a.createElement("div",{className:u.warning},"!")),r.a.createElement(m.a,{container:!0,justify:"space-evenly",spacing:1},r.a.createElement(m.a,{item:!0},t," / ",a," ",r.a.createElement("span",{className:u.unitFont},"mmHG")),r.a.createElement(m.a,{item:!0},n," ",r.a.createElement("span",{className:u.unitFont},"bmp")),r.a.createElement(m.a,{item:!0},r.a.createElement($.a,{variant:"caption",className:u.timeFont},o))),r.a.createElement(be,{docId:i})))},Ee=function(e){var t=e.data;return t?t.map((function(e,t,a){var n=e.up,o=e.down,l=e.pulse,c=e.dateOfMeasurement,i=e.docId,s=new Date(c).getMonth()-new Date(a[t?t-1:t].dateOfMeasurement).getMonth();return r.a.createElement(he,{firstMonthInRow:0===t&&c,monthChange:s,key:i,docId:i,upPressure:parseFloat(n),downPressure:parseFloat(o),pulse:parseFloat(l),time:ee()(new Date(parseFloat(c))).format("Y/MM/DD HH:mm")})})):null},Oe=a(418),ve=a(379),we=Object(p.a)((function(e){return{root:{fill:e.palette.secondary.main,animation:"$beating 0.9s infinite ",marginTop:"2em"},"@keyframes beating":{"0%":{transform:"scale(1)"},"20%":{transform:"scale(1.2)"},"40%":{transform:"scale(1)"},"65%":{transform:"scale(1.2)"},"100%":{transform:"scale(1)"}}}})),je=function(e){var t=e.size,a=we();return r.a.createElement("div",null,r.a.createElement("svg",{width:t,className:a.root,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -28 512 512"},r.a.createElement("path",{d:"m471.4 44.6c-26.5-28.7-62.9-44.6-102.4-44.6-29.6 0-56.6 9.3-80.4 27.8-12 9.3-22.9 20.7-32.5 34-9.6-13.3-20.5-24.7-32.5-34-23.8-18.4-50.9-27.8-80.4-27.8-39.5 0-75.9 15.8-102.4 44.6-26.2 28.4-40.6 67.2-40.6 109.3 0 43.3 16.1 82.9 50.8 124.7 31 37.4 75.5 75.4 127.1 119.3 17.6 15 37.6 32 58.3 50.2 5.5 4.8 12.5 7.4 19.8 7.4 7.3 0 14.3-2.6 19.8-7.4 20.7-18.1 40.7-35.2 58.3-50.2 51.6-43.9 96.1-81.9 127.1-119.3 34.6-41.8 50.8-81.4 50.8-124.7 0-42.1-14.4-80.9-40.6-109.3zm0 0"})))},xe=Object(p.a)((function(e){return{spanLink:{color:e.palette.primary.main,textDecoration:"underline",cursor:"pointer"}}})),ye=Object(i.g)((function(e){var t=e.history,a=xe();return r.a.createElement("div",null,"Click ",r.a.createElement("span",{className:a.spanLink,onClick:function(){j.signInWithEmailAndPassword("test@test.com","123123123").then((function(){t.push("/")}))}},"here")," to login as testing account ")})),Ce=Object(p.a)((function(e){var t;return{container:{},header:{marginTop:"2em"},typo:(t={margin:"1em 0"},Object(te.a)(t,e.breakpoints.down("xs"),{fontSize:"2em"}),Object(te.a)(t,"color","light"===e.palette.type?e.palette.grey[700]:e.palette.grey[100]),t)}})),Se=function(){var e=Ce();return r.a.createElement(Oe.a,null,r.a.createElement(m.a,{container:!0,className:e.container,spacing:3,justify:"center"},r.a.createElement(m.a,{className:e.header,item:!0,xs:12},r.a.createElement($.a,{className:e.typo,align:"center",variant:"h3"},"Start tracking your blood pressure today!")),r.a.createElement(m.a,{item:!0},r.a.createElement(ve.a,{variant:"contained",color:"primary",component:c.b,to:"/signup"},"Sign up")),r.a.createElement(m.a,{item:!0},r.a.createElement(ve.a,{variant:"outlined",color:"primary",component:c.b,to:"/login"},"Login")),r.a.createElement(m.a,{align:"center",item:!0,xs:12},r.a.createElement(ye,null)),r.a.createElement(m.a,{align:"center",item:!0,xs:12},r.a.createElement(je,{size:120}))))},ke=Object(p.a)({wrapper:{maxWidth:"800px",margin:"0 auto"},text:{marginTop:"1em"}}),Pe=function(){var e=ke(),t=Object(n.useState)(!1),a=Object(v.a)(t,2),o=a[0],l=a[1],c=Object(n.useContext)(k),i=c.appData,s=c.setAppData,u=Object(n.useContext)(y).user,d=u&&i&&i.length>9,p=u&&o;return Object(n.useEffect)((function(){u&&(!i||i.length<11)&&ue(u.uid,10).then((function(e){s(e),e&&0===e.length&&l(!0)})).catch((function(e){return console.log(e)}))}),[u]),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{container:!0,className:e.wrapper,justify:"center"},p&&r.a.createElement("h2",null,"Click on plus sign to add your 1st record"),u&&r.a.createElement(Ee,{data:i.slice(0,10)}),!u&&r.a.createElement(Se,null)),d&&r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{container:!0,className:e.wrapper,justify:"center"},r.a.createElement($.a,{className:e.text,variant:"h6"},"This is your last 10 records")),r.a.createElement(m.a,{container:!0,className:e.wrapper,justify:"center"},r.a.createElement($.a,{variant:"subtitle1"},"To see more go to the history page"))))},Ne=a(232),De=(a(361),a(363),function(){var e=Object(n.useContext)(k),t=e.appData,a=e.setAppData,o=Object(n.useContext)(y).user,l=Object(n.useState)({datesArr:[],systolicArr:[],diastolicArr:[],avgDia:null,avgSys:null}),c=Object(v.a)(l,2),i=c[0],s=c[1],m=o&&(t.length||t.length<11),u=function(e){var t,a,n,r=[],o=[];return t=e.map((function(e){return ee()(e.dateOfMeasurement).format("ll")})).reverse(),r=e.map((function(e){return e.up})).reverse(),o=e.map((function(e){return e.down})).reverse(),a=Math.floor(r.reduce((function(e,t){return e+t}))/r.length),n=Math.floor(o.reduce((function(e,t){return e+t}))/o.length),{datesArr:t,systolicArr:r,diastolicArr:o,avgSys:a,avgDia:n}};Object(n.useEffect)((function(){m?me(o.uid).then((function(e){a(e),s(u(t))})).catch((function(e){return console.log(e)})):s(u(t))}),[a,o.uid,m]),console.log(i);var d={labels:i.datesArr,datasets:[{label:"Systolic",data:i.systolicArr,fill:!1,pointRadius:2,backgroundColor:"blue",borderColor:"blue",borderWidth:1,lineTension:0},{label:"Diastolic",data:i.diastolicArr,backgroundColor:"#1565C0",borderColor:"#1565C0",fill:!1,pointRadius:2,borderWidth:1,lineTension:0}]},p={maintainAspectRatio:!1,responsive:!0,tooltips:{enabled:!0,mode:"x",intersect:!1},annotation:{annotations:[{drawTime:"afterDraw",id:"a-line-1",type:"line",mode:"horizontal",scaleID:"y-axis-0",value:120,borderColor:"green",borderWidth:1,label:{backgroundColor:"rgba(0,255,0,0.3)",fontFamily:"sans-serif",fontSize:13,fontStyle:"normal",fontColor:"black",xPadding:6,yPadding:6,cornerRadius:6,position:"left",xAdjust:0,yAdjust:20,enabled:!0,content:"Normal diastolic pressure"}},{drawTime:"afterDatasetsDraw",id:"a-line-3",type:"line",mode:"horizontal",scaleID:"y-axis-0",value:i.avgDia,borderColor:"red",borderWidth:1,label:{backgroundColor:"rgba(255,0,0,0.8)",fontFamily:"sans-serif",fontSize:13,fontStyle:"normal",fontColor:"white",xPadding:6,yPadding:6,cornerRadius:6,position:"right",xAdjust:0,yAdjust:i.avgDia>80?-20:20,enabled:!0,content:"Average ".concat(i.avgDia)}},{drawTime:"afterDraw",id:"a-line-2",type:"line",mode:"horizontal",scaleID:"y-axis-0",value:80,borderColor:"green",borderWidth:1,label:{backgroundColor:"rgba(0,255,0,0.3)",fontFamily:"sans-serif",fontSize:13,fontStyle:"normal",fontColor:"black",xPadding:6,yPadding:6,cornerRadius:6,position:"left",xAdjust:0,yAdjust:20,enabled:!0,content:"Normal systolic pressure"}},{drawTime:"afterDatasetsDraw",id:"a-line-4",type:"line",mode:"horizontal",scaleID:"y-axis-0",value:i.avgSys,borderColor:"red",borderWidth:1,label:{backgroundColor:"rgba(255,0,0,0.8)",fontFamily:"sans-serif",fontSize:13,fontStyle:"normal",fontColor:"white",xPadding:6,yPadding:6,cornerRadius:6,position:"right",xAdjust:0,yAdjust:i.avgSys>120?-20:20,enabled:!0,content:"Average ".concat(i.avgSys)}}]},plugins:{zoom:{pan:{enabled:!0,mode:"x",speed:2},zoom:{enabled:!0,mode:"x",speed:2,threshold:0,sensitivity:0}}}};return r.a.createElement("div",{style:{margin:" 0 auto",maxWidth:"95%"}},r.a.createElement("div",{style:{position:"relative",height:"75vh",backgroundColor:"#f9f9f9"}},i&&i.avgDia&&r.a.createElement(Ne.a,{data:d,options:p})))}),Te=a(431),Ae=a(7),Me=a(184),Ie=a(161),We=Object(p.a)({formText:{"& input":{padding:"0.6em 1em"}},formDate:{"& input":{padding:"0.6em 1em"}}}),Re=function(e){var t=e.appData,a=e.setDisplayData,o=We(),l=Object(n.useState)([null,null]),c=Object(v.a)(l,2),i=c[0],s=c[1],u=Object(n.useState)(""),d=Object(v.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(""),g=Object(v.a)(b,2),h=g[0],E=g[1];return Object(n.useEffect)((function(){t&&t.length>0&&function(){var e=pe(t,i[0],i[1],"dateOfMeasurement");e=pe(e,p,h,"up"),a(e)}()}),[t,i,p,h]),r.a.createElement(m.a,{container:!0,alignItems:"center"},r.a.createElement(m.a,{item:!0,xs:10},r.a.createElement(m.a,{container:!0,spacing:1},r.a.createElement(m.a,{item:!0,xs:12},r.a.createElement(Ae.c,{dateAdapter:Ie.a},r.a.createElement(Me.a,{startText:"From date",endText:"To date",value:i,onChange:function(e){s(e)},renderInput:function(e,t){return r.a.createElement(m.a,{container:!0,spacing:1},r.a.createElement(m.a,{item:!0,xs:6},r.a.createElement(Te.a,Object.assign({className:o.formDate,InputLabelProps:{shrink:!0}},e,{helperText:""}))),r.a.createElement(m.a,{item:!0,xs:6},r.a.createElement(Te.a,Object.assign({className:o.formDate,InputLabelProps:{shrink:!0}},t,{helperText:""}))))}}))),r.a.createElement(m.a,{item:!0,xs:6},r.a.createElement(Te.a,{className:o.formText,id:"greater",value:p,label:"Sys. greater than",type:"number",onKeyDown:function(e){return(69===e.keyCode||190===e.keyCode)&&e.preventDefault()},onChange:function(e){f(e.target.value)},InputLabelProps:{shrink:!0},variant:"outlined"})),r.a.createElement(m.a,{item:!0,xs:6},r.a.createElement(Te.a,{className:o.formText,id:"less",value:h,label:"Sys. less than",type:"number",onKeyDown:function(e){return(69===e.keyCode||190===e.keyCode)&&e.preventDefault()},onChange:function(e){E(e.target.value)},InputLabelProps:{shrink:!0},variant:"outlined"})))),r.a.createElement(m.a,{item:!0,justify:"center",xs:2},r.a.createElement(ve.a,{onClick:function(){s([null,null]),f(""),E("")},color:"primary"},"Reset")))},Fe=Object(p.a)({wrapper:{maxWidth:"800px",margin:"0 auto"}}),ze=function(){var e=Fe(),t=Object(n.useContext)(k),a=t.appData,o=t.setAppData,l=Object(n.useContext)(y).user,c=Object(n.useState)(null),i=Object(v.a)(c,2),s=i[0],u=i[1],d=l&&(!a.length||a.length<11);return Object(n.useEffect)((function(){d&&me(l.uid).then((function(e){o(e)})).catch((function(e){return console.log(e)}))}),[o,l.uid,d]),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{container:!0,className:e.wrapper,justify:"center"},r.a.createElement(Re,{appData:a,setDisplayData:u}),r.a.createElement(Ee,{data:s})))},qe=a(239),Be=a(423),Le=function(e){var t=e.children,a=null!==localStorage.getItem("darkMode")&&JSON.parse(localStorage.getItem("darkMode")),o=Object(n.useState)(a),l=Object(v.a)(o,2),c=l[0],i=l[1],s=Object(qe.a)({overrides:{MuiTooltip:{tooltip:{fontSize:"0.9em"}}},darkMode:c,setDarkMode:i,palette:{primary:{main:c?"#4587d1":"#1565c0"},secondary:{main:"#e53935"},type:c?"dark":"light"}});return r.a.createElement(Be.a,{theme:s},t)},He=a(17),Ye=a(18),Ue=a(435),Ve=a(421),Ge=a(422),Ke=a(424),Je=a(113),Qe=a(432),Xe=function(e){var t=e.label,a=Object(Je.a)(e,["label"]),n=Object(He.d)(Object(ce.a)({},a)),o=Object(v.a)(n,2),l=o[0],c=o[1];return r.a.createElement(T.a,{control:r.a.createElement(Qe.a,Object.assign({},a,c,l)),label:t})},Ze=function(e){var t=e.label,a=Object(Je.a)(e,["label"]),n=Object(He.d)(a),o=Object(v.a)(n,1)[0];return r.a.createElement(T.a,{control:r.a.createElement(Qe.a,Object.assign({},o,a)),label:t})},$e=a(433),_e=a(237),et=a.n(_e),tt=Object(p.a)((function(e){return{snackContainer:{padding:"0.3em 1em",display:"flex",backgroundColor:function(t){var a=t.color;return e.palette[a].main},borderRadius:"1em"},snackText:{color:"white",marginRight:"1em"}}})),at=function(e){var t=e.open,a=e.msg,n=e.setOpen,o=e.color,l=tt({color:o}),c=function(){return n(!1)};return r.a.createElement($e.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:t,autoHideDuration:4e3,onClose:c},r.a.createElement("div",{className:l.snackContainer},r.a.createElement("p",{className:l.snackText},a),r.a.createElement(h.a,{size:"small","aria-label":"close",color:"inherit",onClick:c},r.a.createElement(et.a,{fontSize:"small"}))))},nt=Object(p.a)((function(e){return{form:{padding:"1em",textAlign:"left"},button:{marginTop:"1em",marginBottom:"1em"},field:{marginBottom:"0.2em"},snackContainer:{padding:"0.3em 1em",display:"flex",backgroundColor:e.palette.error.main,borderRadius:"1em"},snackText:{color:"white",marginRight:"1em"}}})),rt=Ye.d().shape({name:Ye.f().min(2,"Too Short!").max(15,"Too Long!").required("Required"),email:Ye.f().email().required("Required"),password:Ye.f().required("Required").min(8,"Password must be at least 8 characters"),confirmPassword:Ye.f().oneOf([Ye.e("password"),null],"Passwords must match"),acceptTerms:Ye.a().oneOf([!0],"You have to accept terms and conditions"),gender:Ye.f().required("You have to select one option")}),ot=Object(i.g)((function(e){var t=e.history,a=nt(),o=Object(n.useState)(!1),l=Object(v.a)(o,2),i=l[0],s=l[1],m=Object(n.useState)(""),u=Object(v.a)(m,2),d=u[0],p=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(He.c,{initialValues:{name:"",email:"",password:"",confirmPassword:"",gender:"",acceptTerms:!1},onSubmit:function(e,a){a.setSubmitting(!0),j.createUserWithEmailAndPassword(e.email,e.password).then((function(n){var r,o,l,c,i=n.user;r=e.name,o=i.uid,l=e.gender,c=e.email,x.collection("Users").doc(o).set({name:r,gender:l,createdAt:(new Date).getTime(),email:c}),a.resetForm(),a.setSubmitting(!1),t.push("/")})).catch((function(e){s(!0),p(e.message),a.setSubmitting(!1)}))},validationSchema:rt},(function(e){var t=e.isSubmitting,n=e.errors,o=e.touched;return r.a.createElement(He.b,{className:a.form},r.a.createElement(Ue.a,{fullWidth:!0},r.a.createElement(He.a,{className:a.field,autoComplete:"off",name:"name",as:Te.a,label:"Name",helperText:o.name&&n.name,error:!!n.name&&o.name})),r.a.createElement(Ue.a,{fullWidth:!0},r.a.createElement(He.a,{className:a.field,name:"email",as:Te.a,label:"E-mail",helperText:o.email&&n.email,error:!!n.email&&o.email})),r.a.createElement(Ue.a,{fullWidth:!0},r.a.createElement(He.a,{className:a.field,autoComplete:"off",name:"password",as:Te.a,label:"Password",type:"password",helperText:o.password&&n.password,error:!!n.password&&o.password})),r.a.createElement(Ue.a,{fullWidth:!0},r.a.createElement(He.a,{className:a.field,name:"confirmPassword",as:Te.a,label:"Confirm password",type:"password",helperText:o.confirmPassword&&n.confirmPassword,error:!!n.confirmPassword&&o.confirmPassword})),r.a.createElement(Ue.a,{margin:"normal"},r.a.createElement(Ve.a,null,"Gender"),r.a.createElement(Ze,{color:"primary",type:"radio",name:"gender",value:"female",label:"Female"}),r.a.createElement(Ze,{color:"primary",type:"radio",name:"gender",value:"male",label:"Male"}),r.a.createElement(Ge.a,{error:!0},o.gender&&n.gender)),r.a.createElement("div",null,r.a.createElement(Ue.a,null,r.a.createElement(Xe,{color:"primary",name:"acceptTerms",label:"I accept terms and conditions"}),r.a.createElement(Ge.a,{error:!0},o.acceptTerms&&n.acceptTerms))),r.a.createElement("div",null,r.a.createElement(ve.a,{className:a.button,color:"primary",variant:"contained",type:"submit",disabled:t},"Submit"),r.a.createElement($.a,{variant:"caption",display:"block"},"Already have an account?"," ",r.a.createElement("span",null,r.a.createElement(Ke.a,{component:c.b,to:"/login"},"Login")))))})),r.a.createElement(at,{setOpen:s,open:i,msg:d,color:"error"}))})),lt=Object(p.a)({title:{textAlign:"center",marginTop:"0.3em",paddingTop:"1em"}}),ct=function(){var e=lt();return r.a.createElement(Oe.a,{component:ae.a,className:e.title,maxWidth:"xs"},r.a.createElement($.a,{alignText:"center",variant:"h5"},"Sign up and start using app"),r.a.createElement(ot,null))},it=Object(p.a)({form:{padding:"1em",textAlign:"left"},button:{marginTop:"2em",marginBottom:"1em"}}),st=Ye.d().shape({email:Ye.f().email().required("Required"),password:Ye.f().required("Required").min(8,"Password must be at least 8 characters")}),mt=Object(i.g)((function(e){var t=e.history,a=it(),o=Object(n.useState)(!1),l=Object(v.a)(o,2),i=l[0],s=l[1],m=Object(n.useState)(""),u=Object(v.a)(m,2),d=u[0],p=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(He.c,{initialValues:{email:"",password:""},onSubmit:function(e,a){a.setSubmitting(!0),j.signInWithEmailAndPassword(e.email,e.password).then((function(){a.resetForm(),a.setSubmitting(!1),t.push("/")})).catch((function(e){s(!0),p("Invalid username or password"),console.log(e),a.setSubmitting(!1)}))},validationSchema:st},(function(e){var t=e.isSubmitting,n=e.errors,o=e.touched;return r.a.createElement(He.b,{className:a.form},r.a.createElement(Ue.a,{fullWidth:!0,margin:"normal"},r.a.createElement(He.a,{name:"email",as:Te.a,label:"E-mail",helperText:o.email&&n.email,error:!!n.email&&o.email})),r.a.createElement(Ue.a,{fullWidth:!0,margin:"normal"},r.a.createElement(He.a,{autoComplete:"off",name:"password",as:Te.a,label:"Password",type:"password",helperText:o.password&&n.password,error:!!n.password&&o.password})),r.a.createElement("div",null,r.a.createElement(ve.a,{className:a.button,color:"primary",variant:"contained",type:"submit",disabled:t},"Login"),r.a.createElement($.a,{variant:"caption",display:"block"},"Dont have an account?"," ",r.a.createElement("span",null,r.a.createElement(Ke.a,{href:"#",component:c.b,to:"/signup"},"Sign up")))))})),r.a.createElement(at,{setOpen:s,open:i,msg:d,color:"error"}))})),ut=Object(p.a)({title:{textAlign:"center",marginTop:"0.3em",paddingTop:"1em"}}),dt=function(){var e=ut();return r.a.createElement(Oe.a,{component:ae.a,className:e.title,maxWidth:"xs"},r.a.createElement($.a,{alignText:"center",variant:"h5"},"Welcome back, please log in"),r.a.createElement(mt,null))},pt=function(e){var t=e.component,a=Object(Je.a)(e,["component"]),o=Object(n.useContext)(y).user;return r.a.createElement(i.b,Object.assign({},a,{render:function(e){return o?r.a.createElement(t,e):r.a.createElement(i.a,{to:"/"})}}))},ft=a(425),bt=a(238),gt=a.n(bt),ht=a(382),Et=a(426),Ot=a(240),vt=a(122),wt=function(e){var t=e.field,a=e.form,n=a.errors[t.name];return r.a.createElement(Ae.c,{dateAdapter:Ie.a},r.a.createElement(vt.a,{renderInput:function(e){return r.a.createElement(Te.a,e)},name:t.name,value:t.value,onChange:function(e){a.setFieldValue(t.name,e,!0)},label:"Time of measurement",showTodayButton:!0,inputFormat:"YYYY/MM/DD HH:mm",fullWidth:!0,ampm:!1,allowKeyboardControl:!0,helperText:n,error:Boolean(n)}))},jt=Object(p.a)((function(e){var t;return{form:(t={},Object(te.a)(t,e.breakpoints.up("sm"),{maxWidth:"550px"}),Object(te.a)(t,e.breakpoints.down("xs"),{maxWidth:"98%"}),Object(te.a)(t,"margin","1em auto"),t),container:{paddingBottom:"1em"},button:{marginTop:"2em",marginBottom:"1em"}}})),xt=Ye.d().shape({up:Ye.c().min(20).max(380).required("Required"),down:Ye.c().min(20).max(320).required("Required"),pulse:Ye.c().min(20).max(250).required("Required"),dateOfMeasurement:Ye.b().typeError("Invalid date")}),yt=Object(i.g)((function(e){var t=e.closeModal,a=Object(n.useContext)(y).user,o=Object(n.useContext)(k).setAppData,l=jt(),c={up:"",down:"",pulse:"",dateOfMeasurement:new Date};return r.a.createElement(He.c,{initialValues:c,onSubmit:function(e,n){var r=e.up,l=e.down,c=e.pulse,i=e.dateOfMeasurement,s=new Date(i).getTime();n.setSubmitting(!0),function(e,t,a,n,r){return se(e).add({up:t,down:a,pulse:n,dateOfMeasurement:r})}(a.uid,r,l,c,s).then((function(e){var a={up:r,down:l,pulse:c,dateOfMeasurement:s,docId:e.id};n.setSubmitting(!1),n.resetForm(),o((function(e){return de([].concat(Object(Ot.a)(e),[a]))})),t()})).catch((function(e){console.log(e)}))},validationSchema:xt},(function(e){var t=e.isSubmitting,a=e.errors,n=e.touched;return r.a.createElement(He.b,{className:l.form},r.a.createElement(Oe.a,{className:l.container,component:ae.a},r.a.createElement(m.a,{container:!0,spacing:2},r.a.createElement(m.a,{item:!0,xs:6,sm:6},r.a.createElement(Ue.a,{fullWidth:!0},r.a.createElement(He.a,{autoComplete:"off",name:"up",type:"number",as:Te.a,label:"Systolic",helperText:n.up&&a.up,error:!!a.up&&n.up}))),r.a.createElement(m.a,{item:!0,xs:6,sm:6},r.a.createElement(Ue.a,{fullWidth:!0},r.a.createElement(He.a,{autoComplete:"off",name:"down",type:"number",as:Te.a,label:"Diastolic",helperText:n.down&&a.down,error:!!a.down&&n.down}))),r.a.createElement(m.a,{item:!0,xs:12,sm:6},r.a.createElement(Ue.a,{fullWidth:!0},r.a.createElement(He.a,{autoComplete:"off",type:"number",name:"pulse",as:Te.a,label:"Pulse",helperText:n.pulse&&a.pulse,error:!!a.pulse&&n.pulse}))),r.a.createElement(m.a,{item:!0,xs:12,sm:6},r.a.createElement(He.a,{name:"dateOfMeasurement",component:wt}))),r.a.createElement(ve.a,{className:l.button,color:"primary",variant:"contained",type:"submit",disabled:t},"Add")))}))})),Ct=Object(p.a)((function(e){var t;return{button:(t={position:"fixed"},Object(te.a)(t,e.breakpoints.down("xs"),{bottom:"15%"}),Object(te.a)(t,"bottom","10%"),Object(te.a)(t,e.breakpoints.up("md"),{right:"20%"}),Object(te.a)(t,"right","10%"),Object(te.a)(t,"zIndex","10"),t),modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})),St=Object(Et.a)()((function(e){var t=e.width,a=Ct(),n={size:"xs"===t?"small":"large"},o=r.a.useState(!1),l=Object(v.a)(o,2),c=l[0],i=l[1],s=function(){i(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ht.a,{className:a.modal,open:c,onClose:s},r.a.createElement(r.a.Fragment,null,r.a.createElement(yt,{closeModal:s}))),r.a.createElement(ft.a,Object.assign({onClick:function(){i(!0)},className:a.button,color:"primary"},n),r.a.createElement(gt.a,null)))})),kt=a(427),Pt=a(428),Nt=a(429),Dt=Object(p.a)((function(e){var t;return{container:(t={},Object(te.a)(t,e.breakpoints.down("xl"),{maxWidth:"600px"}),Object(te.a)(t,e.breakpoints.down("xs"),{maxWidth:"95%"}),Object(te.a)(t,"minHeight","15vh"),Object(te.a)(t,"margin","6em auto"),Object(te.a)(t,"padding","1em 3em"),t),text:{margin:"0.2em 0"},button:{marginRight:"1em"},inputs:{marginBottom:"1em"}}})),Tt=Ye.d().shape({oldPass:Ye.f().required("Required").min(8,"Password must be at least 8 characters"),newPass:Ye.f().required("Required").min(8,"Password must be at least 8 characters").notOneOf([Ye.e("oldPass"),null],"New Password must be different than old one"),newPassConfirm:Ye.f().oneOf([Ye.e("newPass"),null],"Passwords must match")}),At=function(e){var t=e.setOpenChangePass,a=e.setOpenSuccessSnack,o=Dt(),l=Object(n.useContext)(y).user,c=Object(n.useState)(!1),i=Object(v.a)(c,2),s=i[0],m=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{className:o.container},r.a.createElement($.a,{className:o.text},"Change password."),r.a.createElement(He.c,{initialValues:{oldPass:"",newPass:"",newPassConfirm:""},onSubmit:function(e){var n=e.oldPass,r=e.newPass,o=C(l.email,n);l.reauthenticateWithCredential(o).then((function(){l.updatePassword(r).then((function(){a(!0),t(!1)}))})).catch((function(){m(!0),t(!0)}))},validationSchema:Tt},(function(e){var a=e.errors,n=e.touched;return r.a.createElement(He.b,null,r.a.createElement(Ue.a,null,r.a.createElement(He.a,{className:o.inputs,type:"password",name:"oldPass",as:Te.a,label:"Old Password",helperText:n.password&&a.password,error:!!a.password&&n.password}),r.a.createElement(He.a,{className:o.inputs,type:"password",name:"newPass",as:Te.a,label:"New Password",helperText:n.newPass&&a.newPass,error:!!a.newPass&&n.newPass}),r.a.createElement(He.a,{className:o.inputs,type:"password",name:"newPassConfirm",as:Te.a,label:"Confirm New Password",helperText:n.newPassConfirm&&a.newPassConfirm,error:!!a.newPassConfirm&&n.newPassConfirm})),r.a.createElement("div",null,r.a.createElement(ve.a,{className:o.button,color:"primary",variant:"contained",type:"submit"},"Submit"),r.a.createElement(ve.a,{variant:"contained",onClick:function(){return t(!1)}},"Cancel")))}))),r.a.createElement(at,{setOpen:m,open:s,msg:"Invalid password",color:"error"}))},Mt=Object(p.a)((function(e){var t;return{container:(t={},Object(te.a)(t,e.breakpoints.down("xl"),{maxWidth:"600px"}),Object(te.a)(t,e.breakpoints.down("xs"),{maxWidth:"95%"}),Object(te.a)(t,"minHeight","15vh"),Object(te.a)(t,"margin","6em auto"),Object(te.a)(t,"padding","1em 3em"),t),modalText:{margin:"0.2em 0"},button:{marginRight:"1em"},form:{marginTop:"1em"}}})),It=Ye.d().shape({password:Ye.f().required("Required").min(8,"Password must be at least 8 characters")}),Wt=Object(i.g)((function(e){var t=e.history,a=e.setOpenDelete,o=Mt(),l=Object(n.useContext)(y).user,c=Object(n.useContext)(k).setAppData,i=Object(n.useState)(!1),s=Object(v.a)(i,2),m=s[0],u=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(at,{setOpen:u,open:m,msg:"Wrong password",color:"error"}),r.a.createElement(ae.a,{className:o.container},r.a.createElement($.a,{className:o.modalText},"Are you sure to delete account? This is irreversible effect. ",r.a.createElement("br",null),"Enter password to delete account."),r.a.createElement(He.c,{initialValues:{password:""},onSubmit:function(e){var a=e.password,n=C(l.email,a);l.reauthenticateWithCredential(n).then((function(){l.delete().then((function(){c([]),t.push("/")}))})).catch((function(){u(!0)}))},validationSchema:It},(function(e){var t=e.errors,n=e.touched;return r.a.createElement(He.b,null,r.a.createElement(Ue.a,null,r.a.createElement(He.a,{type:"password",name:"password",as:Te.a,label:"Password",helperText:n.password&&t.password,error:!!t.password&&n.password})),r.a.createElement("div",{className:o.form},r.a.createElement(ve.a,{type:"submit",className:o.button,color:"secondary",variant:"contained"},"Delete account"),r.a.createElement(ve.a,{variant:"contained",onClick:function(){return a(!1)}},"Cancel")))}))))})),Rt=Object(p.a)((function(e){var t;return{root:(t={},Object(te.a)(t,e.breakpoints.down("xl"),{maxWidth:"800px"}),Object(te.a)(t,e.breakpoints.down("xs"),{maxWidth:"100%"}),Object(te.a)(t,"margin","0 auto"),Object(te.a)(t,"padding","1em 0"),t),title:{marginBottom:"0.5em"}}})),Ft=function(){var e=Object(n.useContext)(y).user,t=Object(n.useState)(null),a=Object(v.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)(!1),i=Object(v.a)(c,2),s=i[0],m=i[1],u=Object(n.useState)(!1),d=Object(v.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(!1),g=Object(v.a)(b,2),h=g[0],E=g[1];Object(n.useEffect)((function(){var t;(t=e.uid,x.collection("Users").doc(t).get()).then((function(e){l(e.data())}))}),[e.uid]);var O=Rt();return o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ht.a,{open:s,onClose:function(){return m(!1)}},r.a.createElement(Wt,{setOpenDelete:m})),r.a.createElement(ht.a,{open:p,onClose:function(){return f(!1)}},r.a.createElement(At,{setOpenSuccessSnack:E,setOpenChangePass:f})),r.a.createElement(at,{setOpen:E,open:h,msg:"Password Changed",color:"success"}),r.a.createElement(kt.a,{className:O.root,variant:"outlined"},r.a.createElement(Pt.a,null,r.a.createElement($.a,{className:O.title},"Hello ",o.name),r.a.createElement($.a,{className:O.title},"Your email: ",o.email),r.a.createElement($.a,{className:O.title},"Gender: ",o.gender),r.a.createElement($.a,{className:O.title},"Your account has been created ",ee()(o.createdAt).fromNow()," ","(".concat(ee()(o.createdAt).format("LLL"),")"))),r.a.createElement(Nt.a,null,r.a.createElement(ve.a,{variant:"contained",onClick:function(){return f(!0)}},"Change Password"),r.a.createElement(ve.a,{variant:"contained",color:"secondary",onClick:function(){return m(!0)}},"Delete account"))))};var zt=function(){var e=Object(n.useContext)(y).user;return r.a.createElement(c.a,{basename:"/nopressure"},r.a.createElement(Le,null,r.a.createElement(P,null,r.a.createElement(s.a,null),r.a.createElement(m.a,{container:!0,direction:"column",style:{minHeight:"100vh"}},r.a.createElement(F,null),r.a.createElement(Z,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:Pe}),r.a.createElement(pt,{path:"/charts",component:De}),r.a.createElement(pt,{path:"/history",component:ze}),r.a.createElement(pt,{path:"/userinfo",component:Ft}),r.a.createElement(i.b,{path:"/signup"},e?r.a.createElement(i.a,{push:!0,to:"/"}):r.a.createElement(ct,null)),r.a.createElement(i.b,{path:"/login"},e?r.a.createElement(i.a,{push:!0,to:"/"}):r.a.createElement(dt,null)))),e&&r.a.createElement(St,null),e&&r.a.createElement(Q,null)))))};l.a.render(r.a.createElement(S,null,r.a.createElement(zt,null)),document.getElementById("root"))}},[[253,1,2]]]);
//# sourceMappingURL=main.3952a0ec.chunk.js.map